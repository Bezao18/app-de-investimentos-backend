{"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/app.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":53}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":77}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":36}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":26}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":32}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":3},"b":{"0":[1,1,1],"1":[2,1],"2":[3,3]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/app.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/app.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,gCAA8B;AAC9B,sDAA8B;AAC9B,8EAAsD;AAEtD,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,CAAA;AACf,GAAG,CAAC,GAAG,CAAC,sBAAY,CAAC,CAAC;AAEtB,kBAAe,GAAG,CAAC","sourcesContent":["import express from 'express';\nimport 'express-async-errors';\nimport routes from './routes';\nimport errorHandler from './middlewares/errorHandler';\n\nconst app = express();\n\napp.use(express.json());\napp.use(routes)\napp.use(errorHandler);\n\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"909588545c971f645dc1742118353c4bc88e0998","contentHash":"639bb6a74769be1f999301d813ee7dc277b91536ed38efe6604434e84bf2e743"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/index.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":31},"end":{"line":7,"column":81}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":67}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":65}},"7":{"start":{"line":10,"column":23},"end":{"line":10,"column":65}},"8":{"start":{"line":11,"column":26},"end":{"line":11,"column":71}},"9":{"start":{"line":12,"column":15},"end":{"line":12,"column":38}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":45}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":61}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":47}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":45}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":5,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"f":{"0":5},"b":{"0":[1,1,1],"1":[5,0],"2":[5,5]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/index.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/index.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,kFAAwD;AACxD,oEAA0C;AAC1C,kEAAwC;AACxC,kEAAwC;AACxC,wEAA8C;AAE9C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAW,CAAC,CAAA;AAEjC,MAAM,CAAC,GAAG,CAAC,gBAAgB,EAAE,8BAAmB,CAAC,CAAA;AAEjD,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,uBAAY,CAAC,CAAA;AAEnC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAW,CAAC,CAAA;AAEjC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAc,CAAC,CAAA;AAGvC,kBAAe,MAAM,CAAA","sourcesContent":["import { Router } from 'express';\nimport investimentosRoutes from './investimentos.routes'\nimport ativosRoutes from './ativos.routes'\nimport contaRoutes from './conta.routes'\nimport loginRoutes from './login.routes'\nimport cadastroRoutes from './cadastro.routes'\n\nconst routes = Router();\n\nroutes.use('/conta', contaRoutes)\n\nroutes.use('/investimentos', investimentosRoutes)\n\nroutes.use('/ativos', ativosRoutes)\n\nroutes.use('/login', loginRoutes)\n\nroutes.use('/cadastro', cadastroRoutes)\n\n\nexport default routes"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"98aa225ff71528a256e767b4d885b34a11f70327","contentHash":"c0d051d7be4dde1c408b55db1959a7c1ae6edc011b67e21333b0909aa2792c83"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/investimentos.routes.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/investimentos.routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":24},"end":{"line":7,"column":80}},"5":{"start":{"line":8,"column":35},"end":{"line":8,"column":85}},"6":{"start":{"line":9,"column":21},"end":{"line":9,"column":74}},"7":{"start":{"line":10,"column":22},"end":{"line":10,"column":76}},"8":{"start":{"line":11,"column":28},"end":{"line":11,"column":51}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":148}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":148}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":3,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":3},"b":{"0":[1,1,1],"1":[3,0],"2":[3,3]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/investimentos.routes.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/investimentos.routes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,iFAAyD;AACzD,sFAAsF;AACtF,2EAAmD;AACnD,6EAAqD;AAGrD,MAAM,mBAAmB,GAAG,IAAA,gBAAM,GAAE,CAAC;AAErC,mBAAmB,CAAC,IAAI,CAAC,UAAU,EAAE,uBAAa,EAAE,qBAAW,EAAE,oBAAU,EAAE,uCAAY,CAAC,CAAC;AAE3F,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,uBAAa,EAAE,qBAAW,EAAE,oBAAU,EAAE,wCAAa,CAAC,CAAC;AAE3F,kBAAe,mBAAmB,CAAA","sourcesContent":["import { Router } from 'express';\nimport validateOrder from '../middlewares/validateOrder';\nimport { sendBuyOrder, sendSellOrder } from '../controllers/investimentos.controller';\nimport checkAsset from '../middlewares/checkAsset';\nimport checkClient from '../middlewares/checkClient';\n\n\nconst investimentosRoutes = Router();\n\ninvestimentosRoutes.post('/comprar', validateOrder, checkClient, checkAsset, sendBuyOrder);\n\ninvestimentosRoutes.post('/vender', validateOrder, checkClient, checkAsset, sendSellOrder);\n\nexport default investimentosRoutes\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e5c1384b17ff1faa21848c6eae70f8883b683cad","contentHash":"2ef40fbc2cf73f6d49a20c406472d49bf3196f4d65cf5e6b2c858167b0561b70"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateOrder.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateOrder.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":80}},"16":{"start":{"line":16,"column":22},"end":{"line":28,"column":2}},"17":{"start":{"line":16,"column":42},"end":{"line":28,"column":2}},"18":{"start":{"line":17,"column":48},"end":{"line":17,"column":56}},"19":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":86}},"21":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"22":{"start":{"line":22,"column":8},"end":{"line":22,"column":84}},"23":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"24":{"start":{"line":25,"column":8},"end":{"line":25,"column":85}},"25":{"start":{"line":27,"column":4},"end":{"line":27,"column":18}},"26":{"start":{"line":29,"column":0},"end":{"line":29,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":22},"end":{"line":16,"column":23}},"loc":{"start":{"line":16,"column":42},"end":{"line":28,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":76},"end":{"line":16,"column":77}},"loc":{"start":{"line":16,"column":89},"end":{"line":28,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"9":{"loc":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},{"start":{"line":21,"column":4},"end":{"line":23,"column":5}}],"line":21},"10":{"loc":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},{"start":{"line":24,"column":4},"end":{"line":26,"column":5}}],"line":24},"11":{"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":37}},"type":"binary-expr","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":18}},{"start":{"line":24,"column":22},"end":{"line":24,"column":37}}],"line":24}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateOrder.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateOrder.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,iFAAyD;AAIzD,MAAM,aAAa,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC9E,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAW,GAAG,CAAC,IAAI,CAAC;IAC7D,IAAI,CAAC,UAAU,EAAE;QACf,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,kCAAkC,CAAC,CAAA;KACpE;IAAC,IAAI,CAAC,QAAQ,EAAE;QACf,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,gCAAgC,CAAC,CAAA;KAClE;IAAC,IAAI,CAAC,SAAS,IAAI,SAAS,KAAK,CAAC,EAAE;QACnC,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,iCAAiC,CAAC,CAAA;KACnE;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AAED,kBAAe,aAAa,CAAC","sourcesContent":["import { IOrder } from '../interfaces'\nimport HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { Request, Response, NextFunction } from \"express\";\n\n\nconst validateOrder = async (req: Request, res: Response, next: NextFunction) => {\n  const { CodCliente, CodAtivo, QtdeAtivo }: IOrder = req.body;\n  if (!CodCliente) {\n    throw new HTTPErrorMessage(400, 'O campo CodCliente é obrigatório')\n  } if (!CodAtivo) {\n    throw new HTTPErrorMessage(400, 'O campo CodAtivo é obrigatório')\n  } if (!QtdeAtivo && QtdeAtivo !== 0) {\n    throw new HTTPErrorMessage(400, 'O campo QtdeAtivo é obrigatório')\n  } \n  return next();\n}\n\nexport default validateOrder;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a43cc522a248bf6b104f75d02b00ecbd522a8007","contentHash":"0e8d100b9ea3fa0ae78cf4bfa9ad8d190126f9926049f925cc68c730857e0bf1"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/HTTPErrorMessage.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/HTTPErrorMessage.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":33},"end":{"line":7,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":18,"2":18,"3":1},"f":{"0":18},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/HTTPErrorMessage.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/HTTPErrorMessage.ts"],"names":[],"mappings":";;AAAA,MAAM,gBAAiB,SAAQ,KAAK;IAClC,YAAmB,MAAa,EAAE,OAAc;QAC9C,KAAK,CAAC,OAAO,CAAC,CAAC;QADE,WAAM,GAAN,MAAM,CAAO;IAEhC,CAAC;CACF;AAED,kBAAe,gBAAgB,CAAC","sourcesContent":["class HTTPErrorMessage extends Error{\n  constructor(public status:number, message:string){\n    super(message);\n  }\n}\n\nexport default HTTPErrorMessage;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6cab9aa654ed741c46a280d64948ec1cdd0f8762","contentHash":"ad736e1c87000fef0722373f718cfc874dbefe27ef3d969e02107dc436bab552"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/investimentos.controller.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/investimentos.controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":54}},"14":{"start":{"line":13,"column":32},"end":{"line":13,"column":76}},"15":{"start":{"line":14,"column":21},"end":{"line":17,"column":2}},"16":{"start":{"line":14,"column":35},"end":{"line":17,"column":2}},"17":{"start":{"line":15,"column":26},"end":{"line":15,"column":82}},"18":{"start":{"line":16,"column":4},"end":{"line":16,"column":47}},"19":{"start":{"line":18,"column":0},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":22},"end":{"line":22,"column":2}},"21":{"start":{"line":19,"column":36},"end":{"line":22,"column":2}},"22":{"start":{"line":20,"column":26},"end":{"line":20,"column":83}},"23":{"start":{"line":21,"column":4},"end":{"line":21,"column":47}},"24":{"start":{"line":23,"column":0},"end":{"line":23,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":14,"column":21},"end":{"line":14,"column":22}},"loc":{"start":{"line":14,"column":35},"end":{"line":17,"column":2}},"line":14},"8":{"name":"(anonymous_8)","decl":{"start":{"line":14,"column":69},"end":{"line":14,"column":70}},"loc":{"start":{"line":14,"column":82},"end":{"line":17,"column":1}},"line":14},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":22},"end":{"line":19,"column":23}},"loc":{"start":{"line":19,"column":36},"end":{"line":22,"column":2}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":19,"column":70},"end":{"line":19,"column":71}},"loc":{"start":{"line":19,"column":83},"end":{"line":22,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":1,"20":1,"21":0,"22":0,"23":0,"24":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/investimentos.controller.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/investimentos.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,6EAA8E;AAEvE,MAAM,YAAY,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAChE,MAAM,aAAa,GAAG,MAAM,IAAA,mCAAW,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC7C,CAAC,CAAA,CAAA;AAHY,QAAA,YAAY,gBAGxB;AAEM,MAAM,aAAa,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACjE,MAAM,aAAa,GAAG,MAAM,IAAA,oCAAY,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACnD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC7C,CAAC,CAAA,CAAA;AAHY,QAAA,aAAa,iBAGzB","sourcesContent":["import { Request, Response } from \"express\";\nimport { newBuyOrder, newSellOrder } from \"../services/investimentos.service\";\n\nexport const sendBuyOrder = async (req: Request, res: Response) => {\n  const clientAccount = await newBuyOrder(req.body);\n  return res.status(200).json(clientAccount);\n}\n\nexport const sendSellOrder = async (req: Request, res: Response) => {\n  const clientAccount = await newSellOrder(req.body);\n  return res.status(200).json(clientAccount);\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"93a8a984106aa36afd88ddcb9c380bea0aabffbd","contentHash":"716d67818067b68ba341da3862fcb728515c61e937d6af482df875781aaa7ad7"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/investimentos.service.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/investimentos.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":52}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":25},"end":{"line":17,"column":52}},"18":{"start":{"line":18,"column":34},"end":{"line":18,"column":63}},"19":{"start":{"line":19,"column":20},"end":{"line":36,"column":2}},"20":{"start":{"line":19,"column":34},"end":{"line":36,"column":2}},"21":{"start":{"line":20,"column":48},"end":{"line":20,"column":56}},"22":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"23":{"start":{"line":22,"column":8},"end":{"line":22,"column":116}},"24":{"start":{"line":24,"column":18},"end":{"line":24,"column":88}},"25":{"start":{"line":25,"column":22},"end":{"line":25,"column":83}},"26":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"27":{"start":{"line":27,"column":8},"end":{"line":27,"column":87}},"28":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"29":{"start":{"line":30,"column":8},"end":{"line":30,"column":91}},"30":{"start":{"line":32,"column":4},"end":{"line":32,"column":94}},"31":{"start":{"line":33,"column":4},"end":{"line":33,"column":60}},"32":{"start":{"line":34,"column":4},"end":{"line":34,"column":87}},"33":{"start":{"line":35,"column":4},"end":{"line":35,"column":51}},"34":{"start":{"line":37,"column":0},"end":{"line":37,"column":34}},"35":{"start":{"line":38,"column":21},"end":{"line":53,"column":2}},"36":{"start":{"line":38,"column":36},"end":{"line":53,"column":2}},"37":{"start":{"line":39,"column":48},"end":{"line":39,"column":57}},"38":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"39":{"start":{"line":41,"column":8},"end":{"line":41,"column":115}},"40":{"start":{"line":43,"column":18},"end":{"line":43,"column":88}},"41":{"start":{"line":44,"column":22},"end":{"line":44,"column":80}},"42":{"start":{"line":45,"column":26},"end":{"line":45,"column":80}},"43":{"start":{"line":45,"column":52},"end":{"line":45,"column":79}},"44":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"45":{"start":{"line":47,"column":8},"end":{"line":47,"column":91}},"46":{"start":{"line":49,"column":4},"end":{"line":49,"column":93}},"47":{"start":{"line":50,"column":4},"end":{"line":50,"column":60}},"48":{"start":{"line":51,"column":4},"end":{"line":51,"column":87}},"49":{"start":{"line":52,"column":4},"end":{"line":52,"column":50}},"50":{"start":{"line":54,"column":0},"end":{"line":54,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":20},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":34},"end":{"line":36,"column":2}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":68},"end":{"line":19,"column":69}},"loc":{"start":{"line":19,"column":81},"end":{"line":36,"column":1}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":38,"column":21},"end":{"line":38,"column":22}},"loc":{"start":{"line":38,"column":36},"end":{"line":53,"column":2}},"line":38},"11":{"name":"(anonymous_11)","decl":{"start":{"line":38,"column":70},"end":{"line":38,"column":71}},"loc":{"start":{"line":38,"column":83},"end":{"line":53,"column":1}},"line":38},"12":{"name":"(anonymous_12)","decl":{"start":{"line":45,"column":41},"end":{"line":45,"column":42}},"loc":{"start":{"line":45,"column":52},"end":{"line":45,"column":79}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},{"start":{"line":21,"column":4},"end":{"line":23,"column":5}}],"line":21},"9":{"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},{"start":{"line":26,"column":4},"end":{"line":28,"column":5}}],"line":26},"10":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29},"11":{"loc":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},{"start":{"line":40,"column":4},"end":{"line":42,"column":5}}],"line":40},"12":{"loc":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},{"start":{"line":46,"column":4},"end":{"line":48,"column":5}}],"line":46},"13":{"loc":{"start":{"line":46,"column":8},"end":{"line":46,"column":61}},"type":"binary-expr","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":22}},{"start":{"line":46,"column":26},"end":{"line":46,"column":61}}],"line":46}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/investimentos.service.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/investimentos.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,iFAAyD;AACzD,qDAAsD;AACtD,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAEzD,MAAM,WAAW,GAAG,CAAO,QAAgB,EAAE,EAAE;IACpD,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAW,QAAQ,CAAC;IAC7D,IAAI,SAAS,IAAI,CAAC,EAAE;QAClB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,gEAAgE,CAAC,CAAA;KAClG;IACD,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,OAAO,EAAE,WAAW,CAAC,EAAE,CAAC,CAAA;IACpF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE,UAAU,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;IAC/E,IAAI,KAAK,CAAC,SAAS,GAAG,SAAS,EAAE;QAC/B,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,mCAAmC,CAAC,CAAA;KACrE;IAAC,IAAI,KAAK,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;QACvC,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,uCAAuC,CAAC,CAAA;KACzE;IACD,KAAK,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA;IACzF,KAAK,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAA;IACvD,OAAO,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAA;IAClF,OAAO,uCAAuC,CAAA;AAChD,CAAC,CAAA,CAAA;AAhBY,QAAA,WAAW,eAgBvB;AAEM,MAAM,YAAY,GAAG,CAAO,SAAiB,EAAE,EAAE;IACtD,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAW,SAAS,CAAC;IAC9D,IAAI,SAAS,IAAI,CAAC,EAAE;QAClB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,+DAA+D,CAAC,CAAA;KACjG;IACD,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,OAAO,EAAE,WAAW,CAAC,EAAE,CAAC,CAAA;IACpF,MAAM,SAAS,GAAG,MAAM,IAAA,mCAAkB,EAAC,UAAU,CAAC,CAAA;IACtD,MAAM,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC,KAAa,EAAE,EAAE,CAAC,KAAK,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAA;IACpF,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,SAAS,GAAG,SAAS,EAAE;QACzD,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,uCAAuC,CAAC,CAAA;KACzE;IACD,KAAK,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAA;IACxF,KAAK,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAA;IACvD,OAAO,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAA;IAClF,OAAO,sCAAsC,CAAA;AAC/C,CAAC,CAAA,CAAA;AAfY,QAAA,YAAY,gBAexB","sourcesContent":["import { IAtivo, IOrder } from \"../interfaces\"\nimport HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { getClientPortfolio } from \"./ativos.service\";\nconst { Ativo, Cliente, Ordem } = require('../database/models');\n\nexport const newBuyOrder = async (buyOrder: IOrder) => {\n  const { CodCliente, CodAtivo, QtdeAtivo }: IOrder = buyOrder;\n  if (QtdeAtivo <= 0) {\n    throw new HTTPErrorMessage(400, 'Não é possivel comprar uma quantidade negativa ou igual a zero')\n  }\n  const asset = await Ativo.findByPk(CodAtivo, { attributes: ['Valor', 'QtdeAtivo'] })\n  const { Saldo } = await Cliente.findByPk(CodCliente, { attributes: ['Saldo'] })\n  if (asset.QtdeAtivo < QtdeAtivo) {\n    throw new HTTPErrorMessage(400, 'Quantidade de ativos indisponível')\n  } if (Saldo < (asset.Valor * QtdeAtivo)) {\n    throw new HTTPErrorMessage(400, 'Saldo insuficiente para essa operação')\n  }\n  Ordem.create({ CodCliente, CodAtivo, ValorPago: asset.Valor, QtdeAtivo, Tipo: 'Compra' })\n  Ativo.decrement({ QtdeAtivo }, { where: { CodAtivo } })\n  Cliente.decrement({ Saldo: (asset.Valor * QtdeAtivo) }, { where: { CodCliente } })\n  return 'Ordem de compra executada com sucesso'\n}\n\nexport const newSellOrder = async (sellOrder: IOrder) => {\n  const { CodCliente, CodAtivo, QtdeAtivo }: IOrder = sellOrder;\n  if (QtdeAtivo <= 0) {\n    throw new HTTPErrorMessage(400, 'Não é possivel vender uma quantidade negativa ou igual a zero')\n  }\n  const asset = await Ativo.findByPk(CodAtivo, { attributes: ['Valor', 'QtdeAtivo'] })\n  const portfolio = await getClientPortfolio(CodCliente)\n  const selectedAsset = portfolio.find((asset: IAtivo) => asset.CodAtivo === CodAtivo)\n  if (!selectedAsset || selectedAsset.QtdeAtivo < QtdeAtivo) {\n    throw new HTTPErrorMessage(400, 'Ativos suficientes para essa operação')\n  }\n  Ordem.create({ CodCliente, CodAtivo, ValorPago: asset.Valor, QtdeAtivo, Tipo: 'Venda' })\n  Ativo.increment({ QtdeAtivo }, { where: { CodAtivo } })\n  Cliente.increment({ Saldo: (asset.Valor * QtdeAtivo) }, { where: { CodCliente } })\n  return 'Ordem de venda executada com sucesso'\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c40b11cc09bee80399b08a8339597038649d9907","contentHash":"4df9a82bf4de0f479259008551d2cee5410e2c748ec803507c3ddb3cd6565ec5"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/ativos.service.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/ativos.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":72}},"16":{"start":{"line":16,"column":35},"end":{"line":16,"column":96}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":56}},"18":{"start":{"line":18,"column":27},"end":{"line":18,"column":80}},"19":{"start":{"line":19,"column":27},"end":{"line":19,"column":80}},"20":{"start":{"line":20,"column":27},"end":{"line":32,"column":2}},"21":{"start":{"line":20,"column":41},"end":{"line":32,"column":2}},"22":{"start":{"line":21,"column":19},"end":{"line":21,"column":83}},"23":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"24":{"start":{"line":23,"column":8},"end":{"line":23,"column":77}},"25":{"start":{"line":25,"column":22},"end":{"line":25,"column":79}},"26":{"start":{"line":26,"column":23},"end":{"line":26,"column":79}},"27":{"start":{"line":27,"column":28},"end":{"line":27,"column":94}},"28":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"29":{"start":{"line":29,"column":8},"end":{"line":29,"column":90}},"30":{"start":{"line":31,"column":4},"end":{"line":31,"column":27}},"31":{"start":{"line":33,"column":0},"end":{"line":33,"column":48}},"32":{"start":{"line":34,"column":17},"end":{"line":40,"column":2}},"33":{"start":{"line":34,"column":30},"end":{"line":40,"column":2}},"34":{"start":{"line":35,"column":18},"end":{"line":35,"column":47}},"35":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"36":{"start":{"line":37,"column":8},"end":{"line":37,"column":75}},"37":{"start":{"line":39,"column":4},"end":{"line":39,"column":17}},"38":{"start":{"line":41,"column":0},"end":{"line":41,"column":28}},"39":{"start":{"line":42,"column":15},"end":{"line":45,"column":1}},"40":{"start":{"line":43,"column":18},"end":{"line":43,"column":33}},"41":{"start":{"line":44,"column":4},"end":{"line":44,"column":17}},"42":{"start":{"line":46,"column":0},"end":{"line":46,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":20,"column":27},"end":{"line":20,"column":28}},"loc":{"start":{"line":20,"column":41},"end":{"line":32,"column":2}},"line":20},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":75},"end":{"line":20,"column":76}},"loc":{"start":{"line":20,"column":88},"end":{"line":32,"column":1}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":34,"column":17},"end":{"line":34,"column":18}},"loc":{"start":{"line":34,"column":30},"end":{"line":40,"column":2}},"line":34},"11":{"name":"(anonymous_11)","decl":{"start":{"line":34,"column":64},"end":{"line":34,"column":65}},"loc":{"start":{"line":34,"column":77},"end":{"line":40,"column":1}},"line":34},"12":{"name":"(anonymous_12)","decl":{"start":{"line":42,"column":15},"end":{"line":42,"column":16}},"loc":{"start":{"line":42,"column":21},"end":{"line":45,"column":1}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},{"start":{"line":22,"column":4},"end":{"line":24,"column":5}}],"line":22},"9":{"loc":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},{"start":{"line":28,"column":4},"end":{"line":30,"column":5}}],"line":28},"10":{"loc":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},{"start":{"line":36,"column":4},"end":{"line":38,"column":5}}],"line":36}},"s":{"0":1,"1":9,"2":0,"3":5,"4":9,"5":9,"6":3,"7":0,"8":0,"9":0,"10":11,"11":5,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":3,"22":3,"23":3,"24":1,"25":2,"26":2,"27":2,"28":2,"29":1,"30":1,"31":1,"32":1,"33":2,"34":2,"35":2,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1},"f":{"0":5,"1":9,"2":0,"3":5,"4":9,"5":0,"6":11,"7":3,"8":3,"9":3,"10":2,"11":2,"12":1},"b":{"0":[1,1,1],"1":[9,0],"2":[5,5],"3":[2,9],"4":[5,5],"5":[1,1,1],"6":[3,0],"7":[3,3],"8":[1,2],"9":[1,1],"10":[1,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/ativos.service.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/ativos.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,iGAAyE;AACzE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AACzD,iFAAyD;AACzD,iFAAyD;AAEzD,MAAM,kBAAkB,GAAG,CAAO,QAAgB,EAAyB,EAAE;IAC3E,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;IAChF,IAAG,CAAC,MAAM,EAAE;QACV,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,yBAAyB,CAAC,CAAA;KAC3D;IACD,MAAM,SAAS,GAAa,MAAM,IAAA,0BAAgB,EAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IACvE,MAAM,UAAU,GAAa,MAAM,IAAA,0BAAgB,EAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACvE,MAAM,eAAe,GAAG,IAAA,kCAAwB,EAAC,EAAC,SAAS,EAAE,UAAU,EAAC,CAAC,CAAA;IACzE,IAAG,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE;QACtB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,sCAAsC,CAAC,CAAA;KACxE;IACD,OAAO,eAA+B,CAAC;AACzC,CAAC,CAAA,CAAA;AAe0B,gDAAkB;AAb7C,MAAM,QAAQ,GAAG,CAAO,OAAe,EAAmB,EAAE;IAC1D,MAAM,KAAK,GAAoB,MAAM,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA;IAC5D,IAAI,CAAC,KAAK,EAAE;QACV,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAAA;KACzD;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAA,CAAA;AAOgB,4BAAQ;AALzB,MAAM,MAAM,GAAG,GAAsB,EAAE;IACrC,MAAM,KAAK,GAAsB,KAAK,CAAC,OAAO,EAAE,CAAA;IAChD,OAAO,KAAK,CAAC;AACf,CAAC,CAAA;AAEQ,wBAAM","sourcesContent":["import { IAtivo, IOrder, IPortfolio } from '../interfaces'\nimport calculateClientPortfolio from '../utils/calculateClientPortfolio';\nconst { Ativo, Cliente } = require('../database/models');\nimport getClientsOrders from '../utils/getClientsOrders';\nimport HTTPErrorMessage from '../utils/HTTPErrorMessage';\n\nconst getClientPortfolio = async (clientId: number): Promise<IPortfolio[]> => {\n  const client = await Cliente.findByPk(clientId, { attributes: ['CodCliente'] });\n  if(!client) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não existe')\n  }\n  const buyOrders: IOrder[] = await getClientsOrders(clientId, 'Compra');\n  const sellOrders: IOrder[] = await getClientsOrders(clientId, 'Venda');\n  const clientPortfolio = calculateClientPortfolio({buyOrders, sellOrders})\n  if(!clientPortfolio[0]) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não possui nenhum ativo')\n  }\n  return clientPortfolio as IPortfolio[];\n}\n\nconst getAsset = async (assetId: number): Promise<IAtivo> => {\n  const asset: Promise<IAtivo> = await Ativo.findByPk(assetId)\n  if (!asset) {\n    throw new HTTPErrorMessage(404, 'Esse ativo não existe')\n  }\n  return asset;\n}\n\nconst getAll = (): Promise<IAtivo>[] => {\n  const asset: Promise<IAtivo>[] = Ativo.findAll()\n  return asset;\n}\n\nexport { getAll, getAsset, getClientPortfolio }"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"473667797fdf327e35d8c75dbb7064824682b89e","contentHash":"1e71495fde5599810afb2ad15483a55bff2d1b6eb2f68f677a8425e198527a3d"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/calculateClientPortfolio.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/calculateClientPortfolio.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":33},"end":{"line":22,"column":1}},"2":{"start":{"line":4,"column":12},"end":{"line":4,"column":13}},"3":{"start":{"line":5,"column":28},"end":{"line":20,"column":31}},"4":{"start":{"line":6,"column":22},"end":{"line":6,"column":35}},"5":{"start":{"line":7,"column":59},"end":{"line":7,"column":65}},"6":{"start":{"line":8,"column":8},"end":{"line":19,"column":9}},"7":{"start":{"line":9,"column":30},"end":{"line":9,"column":64}},"8":{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},"9":{"start":{"line":11,"column":16},"end":{"line":11,"column":23}},"10":{"start":{"line":13,"column":12},"end":{"line":13,"column":19}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":62}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":88}},"13":{"start":{"line":20,"column":25},"end":{"line":20,"column":30}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":27}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":33},"end":{"line":3,"column":34}},"loc":{"start":{"line":3,"column":64},"end":{"line":22,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":5,"column":42},"end":{"line":5,"column":43}},"loc":{"start":{"line":5,"column":54},"end":{"line":20,"column":5}},"line":5},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":14},"end":{"line":20,"column":15}},"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":30}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":8},"end":{"line":19,"column":9}},"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":19,"column":9}},{"start":{"line":8,"column":8},"end":{"line":19,"column":9}}],"line":8},"1":{"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":48}},"type":"binary-expr","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":17}},{"start":{"line":8,"column":21},"end":{"line":8,"column":48}}],"line":8},"2":{"loc":{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},"type":"if","locations":[{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},{"start":{"line":10,"column":12},"end":{"line":12,"column":13}}],"line":10}},"s":{"0":1,"1":1,"2":2,"3":2,"4":3,"5":3,"6":3,"7":2,"8":2,"9":0,"10":2,"11":2,"12":1,"13":3,"14":2,"15":1},"f":{"0":2,"1":3,"2":3},"b":{"0":[2,1],"1":[3,2],"2":[0,2]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/calculateClientPortfolio.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/calculateClientPortfolio.ts"],"names":[],"mappings":";;AAEA,MAAM,wBAAwB,GAAG,CAAC,EAAE,SAAS,EAAE,UAAU,EAAiB,EAAgB,EAAE;IAC1F,IAAI,CAAC,GAAG,CAAC,CAAC;IACV,MAAM,eAAe,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,MAAc,EAAE,EAAE;QACvD,MAAM,KAAK,GAAW,UAAU,CAAC,CAAC,CAAC,CAAA;QACnC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,MAAM,CAAA;QACzD,IAAI,KAAK,IAAI,KAAK,CAAC,QAAQ,KAAK,QAAQ,EAAE,EAAE,iGAAiG;YAC3I,MAAM,SAAS,GAAG,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAA;YACpD,IAAI,SAAS,KAAK,CAAC,EAAE;gBAAE,CAAC,IAAI,CAAC,CAAA;aAAE,CAAC,qGAAqG;YACrI,CAAC,IAAI,CAAC,CAAA;YACN,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAgB,CAAA;SAChE;aACI,EAAE,6HAA6H;YAClI,wGAAwG;YACxG,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,KAAK,EAAgB,CAAA;SAC1F;IACH,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,CAAA,CAAC,iDAAiD;IAC7E,OAAO,eAA+B,CAAC;AACzC,CAAC,CAAA;AAED,kBAAe,wBAAwB,CAAC","sourcesContent":["import { IOrder, IOrderHistory, IPortfolio } from \"../interfaces\"\n\nconst calculateClientPortfolio = ({ buyOrders, sellOrders }: IOrderHistory): IPortfolio[] => {\n  let i = 0;\n  const clientPortfolio = buyOrders.map((compra: IOrder) => {\n    const venda: IOrder = sellOrders[i]\n    const { CodCliente, CodAtivo, Ativo: { Valor } } = compra\n    if (venda && venda.CodAtivo === CodAtivo) { /* Caso esse ativo tenha sido vendido pelo cliente é calculado a diferença entre compra e venda*/\n      const QtdeAtivo = compra.QtdeAtivo - venda.QtdeAtivo\n      if (QtdeAtivo === 0) { i += 1 } /* Caso a qtd do ativo seja 0, o array de vendas apenas retorna null e pula para a próxima posição */\n      i += 1\n      return { CodCliente, CodAtivo, QtdeAtivo, Valor } as IPortfolio\n    }\n    else { /* Caso nessa posição do array de vendas o CodAtivo seja diferente do CodAtivo comprado ou essa posição não tenha uma venda*/\n      /* fica implícito que esse ativo comprado nunca foi vendido e por isso a qtde comprada é a qtde final */\n      return { CodCliente, CodAtivo, QtdeAtivo: Number(compra.QtdeAtivo), Valor } as IPortfolio\n    }\n  }).filter((asset) => asset) /* Remove nulls causados por ativos com qtde 0 */\n  return clientPortfolio as IPortfolio[];\n}\n\nexport default calculateClientPortfolio;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b1f31e6073d7a67190338e32aba76b53eb0207a","contentHash":"13158abeece74a672fb98da468c383829abc05a9bd624e8dbeab2cf555f93575"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/index.js":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/index.js","statementMap":{"0":{"start":{"line":2,"column":11},"end":{"line":2,"column":24}},"1":{"start":{"line":3,"column":13},"end":{"line":3,"column":28}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":12},"end":{"line":6,"column":49}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":63}},"6":{"start":{"line":8,"column":11},"end":{"line":8,"column":13}},"7":{"start":{"line":10,"column":0},"end":{"line":15,"column":1}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":76}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":89}},"10":{"start":{"line":16,"column":0},"end":{"line":24,"column":3}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":90}},"12":{"start":{"line":22,"column":18},"end":{"line":22,"column":85}},"13":{"start":{"line":23,"column":4},"end":{"line":23,"column":27}},"14":{"start":{"line":25,"column":0},"end":{"line":29,"column":3}},"15":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"16":{"start":{"line":27,"column":8},"end":{"line":27,"column":36}},"17":{"start":{"line":30,"column":0},"end":{"line":30,"column":25}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":25}},"19":{"start":{"line":32,"column":0},"end":{"line":32,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":18,"column":12},"end":{"line":18,"column":13}},"loc":{"start":{"line":18,"column":20},"end":{"line":20,"column":1}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":13},"end":{"line":21,"column":14}},"loc":{"start":{"line":21,"column":21},"end":{"line":24,"column":1}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":24},"end":{"line":25,"column":25}},"loc":{"start":{"line":25,"column":37},"end":{"line":29,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":49}},"type":"binary-expr","locations":[{"start":{"line":6,"column":12},"end":{"line":6,"column":32}},{"start":{"line":6,"column":36},"end":{"line":6,"column":49}}],"line":6},"1":{"loc":{"start":{"line":10,"column":0},"end":{"line":15,"column":1}},"type":"if","locations":[{"start":{"line":10,"column":0},"end":{"line":15,"column":1}},{"start":{"line":10,"column":0},"end":{"line":15,"column":1}}],"line":10},"2":{"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":89}},"type":"binary-expr","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":35}},{"start":{"line":19,"column":41},"end":{"line":19,"column":58}},{"start":{"line":19,"column":64},"end":{"line":19,"column":88}}],"line":19},"3":{"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},{"start":{"line":26,"column":4},"end":{"line":28,"column":5}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":5,"12":4,"13":4,"14":1,"15":4,"16":4,"17":1,"18":1,"19":1},"f":{"0":5,"1":4,"2":4},"b":{"0":[1,0],"1":[0,1],"2":[5,5,4],"3":[4,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/index.js","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/index.js"],"names":[],"mappings":";AAAA,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,MAAM,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AACvC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;AAC3C,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,aAAa,CAAC;AAClD,MAAM,MAAM,GAAG,OAAO,CAAC,SAAS,GAAG,sBAAsB,CAAC,CAAC,GAAG,CAAC,CAAC;AAChE,MAAM,EAAE,GAAG,EAAE,CAAC;AAEd,IAAI,SAAS,CAAC;AACd,IAAI,MAAM,CAAC,gBAAgB,EAAE;IAC3B,SAAS,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE,MAAM,CAAC,CAAC;CACzE;KAAM;IACL,SAAS,GAAG,IAAI,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;CACtF;AAED,EAAE;KACC,WAAW,CAAC,SAAS,CAAC;KACtB,MAAM,CAAC,IAAI,CAAC,EAAE;IACb,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC;AACxF,CAAC,CAAC;KACD,OAAO,CAAC,IAAI,CAAC,EAAE;IACd,MAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC;IAClF,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;AACzB,CAAC,CAAC,CAAC;AAEL,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;IAClC,IAAI,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE;QAC3B,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;KAC7B;AACH,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC;AACzB,EAAE,CAAC,SAAS,GAAG,SAAS,CAAC;AAEzB,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC","sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.js')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2da1371176cca10450977f08b4050adce12a88b6","contentHash":"f0e78cfe068f8f5514feaf5d4d7e33b591acbf072162f3b51f16a3ffe13070ac"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/config/config.js":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/config/config.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"1":{"start":{"line":3,"column":65},"end":{"line":3,"column":76}},"2":{"start":{"line":4,"column":0},"end":{"line":29,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/config/config.js","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/config/config.js"],"names":[],"mappings":";AACA,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAE3B,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC;AAE7E,MAAM,CAAC,OAAO,GAAG;IACf,aAAa,EAAE;QACb,UAAU,EAAE,MAAM;QAClB,UAAU,EAAE,UAAU;QACtB,UAAU,EAAE,sBAAsB;QAClC,MAAM,EAAE,WAAW;QACnB,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,OAAO;KACnB;IACD,MAAM,EAAE;QACN,UAAU,EAAE,MAAM;QAClB,UAAU,EAAE,UAAU;QACtB,UAAU,EAAE,2BAA2B;QACvC,MAAM,EAAE,WAAW;QACnB,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,OAAO;KACnB;IACD,YAAY,EAAE;QACZ,UAAU,EAAE,WAAW;QACvB,UAAU,EAAE,WAAW;QACvB,UAAU,EAAE,QAAQ;QACpB,MAAM,EAAE,OAAO;QACf,MAAM,EAAE,OAAO;QACf,SAAS,EAAE,UAAU;KACtB;CACF,CAAA","sourcesContent":["\nrequire('dotenv').config();\n\nconst { DB_HOST, DB_PASSWORD, DATABASE, DB_USERNAME, DB_PORT } = process.env;\n\nmodule.exports = {\n  \"development\": {\n    \"username\": 'root',\n    \"password\": 'password',\n    \"database\": 'app-de-investimentos',\n    \"host\": 'localhost',\n    \"port\": 3306,\n    \"dialect\": \"mysql\"\n  },\n  \"test\": {\n    \"username\": 'root',\n    \"password\": 'password',\n    \"database\": 'app-de-investimentos-test',\n    \"host\": 'localhost',\n    \"port\": 3306,\n    \"dialect\": \"mysql\"\n  },\n  \"production\": {\n    \"username\": DB_USERNAME,\n    \"password\": DB_PASSWORD,\n    \"database\": DATABASE,\n    \"host\": DB_HOST,\n    \"port\": DB_PORT,\n    \"dialect\": \"postgres\"\n  }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"475bb7027f9c1c2c18441db2bdfd06e857c6703e","contentHash":"845805d4701b7d5c37c941cbe6318580ad11374a060fc9b468255cd50d990ac0"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ativo.js":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ativo.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":15,"column":2}},"1":{"start":{"line":3,"column":18},"end":{"line":10,"column":29}},"2":{"start":{"line":11,"column":4},"end":{"line":13,"column":6}},"3":{"start":{"line":12,"column":8},"end":{"line":12,"column":78}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":17}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":17},"end":{"line":2,"column":18}},"loc":{"start":{"line":2,"column":43},"end":{"line":15,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":22},"end":{"line":11,"column":23}},"loc":{"start":{"line":11,"column":34},"end":{"line":13,"column":5}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ativo.js","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ativo.js"],"names":[],"mappings":";AAAA,MAAM,CAAC,OAAO,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE;IACxC,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE;QACtC,QAAQ,EAAE;YACR,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,UAAU,EAAE,IAAI;SACjB;QACD,SAAS,EAAE,SAAS,CAAC,OAAO;QAC5B,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE,EAAC,CAAC,CAAC;KAC7B,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IAE1B,KAAK,CAAC,SAAS,GAAG,CAAC,MAAM,EAAE,EAAE;QAC3B,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EACxB,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAA;IAC7C,CAAC,CAAA;IAED,OAAO,KAAK,CAAC;AACf,CAAC,CAAC","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const Ativo = sequelize.define(\"Ativo\", {\n    CodAtivo: {\n      type: DataTypes.INTEGER,\n      primaryKey: true\n    },\n    QtdeAtivo: DataTypes.INTEGER,\n    Valor: DataTypes.FLOAT(20,2),\n  }, { timestamps: false });\n\n  Ativo.associate = (models) => {\n    Ativo.hasMany(models.Ordem,\n      { foreignKey: 'CodAtivo', as: 'Ordens' })\n  }\n\n  return Ativo;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2afb668f36f6f9f153446f7248fb7e0495dee086","contentHash":"7407eec1afc5f9ba09c9e10f8aaabd4de08a452ea10111a868c063e31cf9b64f"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/cliente.js":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/cliente.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":17,"column":2}},"1":{"start":{"line":3,"column":20},"end":{"line":11,"column":29}},"2":{"start":{"line":12,"column":4},"end":{"line":15,"column":6}},"3":{"start":{"line":13,"column":8},"end":{"line":13,"column":82}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":90}},"5":{"start":{"line":16,"column":4},"end":{"line":16,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":17},"end":{"line":2,"column":18}},"loc":{"start":{"line":2,"column":43},"end":{"line":17,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":24},"end":{"line":12,"column":25}},"loc":{"start":{"line":12,"column":36},"end":{"line":15,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/cliente.js","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/cliente.js"],"names":[],"mappings":";AAAA,MAAM,CAAC,OAAO,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE;IACxC,MAAM,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC,SAAS,EAAE;QAC1C,UAAU,EAAE;YACV,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,UAAU,EAAE,IAAI;SACjB;QACD,KAAK,EAAE,SAAS,CAAC,MAAM;QACvB,KAAK,EAAE,SAAS,CAAC,MAAM;QACvB,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE,EAAC,CAAC,CAAC;KAC7B,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IAE1B,OAAO,CAAC,SAAS,GAAG,CAAC,MAAM,EAAE,EAAE;QAC7B,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAC1B,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAA;QAC7C,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,EAC9B,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,YAAY,EAAE,CAAC,CAAA;IACnD,CAAC,CAAA;IAED,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const Cliente = sequelize.define(\"Cliente\", {\n    CodCliente: {\n      type: DataTypes.INTEGER,\n      primaryKey: true\n    },\n    Email: DataTypes.STRING,\n    Senha: DataTypes.STRING,\n    Saldo: DataTypes.FLOAT(20,2),\n  }, { timestamps: false });\n\n  Cliente.associate = (models) => {\n    Cliente.hasMany(models.Ordem,\n      { foreignKey: 'CodCliente', as: 'Ordens' })\n    Cliente.hasMany(models.Transacao,\n      { foreignKey: 'CodCliente', as: 'Transações' })\n  }\n\n  return Cliente;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"02273e8246594ac68b4a061450b928c18340c925","contentHash":"23c6193b3a6b2c046fc34cb0f8423963e4e6c5d5dcd9713b01297954ff618e87"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ordem.js":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ordem.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":20,"column":2}},"1":{"start":{"line":3,"column":18},"end":{"line":14,"column":29}},"2":{"start":{"line":15,"column":4},"end":{"line":18,"column":6}},"3":{"start":{"line":16,"column":8},"end":{"line":16,"column":79}},"4":{"start":{"line":17,"column":8},"end":{"line":17,"column":85}},"5":{"start":{"line":19,"column":4},"end":{"line":19,"column":17}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":17},"end":{"line":2,"column":18}},"loc":{"start":{"line":2,"column":43},"end":{"line":20,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":22},"end":{"line":15,"column":23}},"loc":{"start":{"line":15,"column":34},"end":{"line":18,"column":5}},"line":15}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ordem.js","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/ordem.js"],"names":[],"mappings":";AAAA,MAAM,CAAC,OAAO,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE;IACxC,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE;QACtC,OAAO,EAAE;YACP,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,UAAU,EAAE,IAAI;SACjB;QACD,UAAU,EAAE,SAAS,CAAC,OAAO;QAC7B,QAAQ,EAAE,SAAS,CAAC,OAAO;QAC3B,SAAS,EAAE,SAAS,CAAC,OAAO;QAC5B,YAAY,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE,EAAC,CAAC,CAAC;QACnC,IAAI,EAAE,SAAS,CAAC,MAAM;QACtB,OAAO,EAAE,SAAS,CAAC,IAAI;KACxB,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IAE1B,KAAK,CAAC,SAAS,GAAG,CAAC,MAAM,EAAE,EAAE;QAC3B,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAC1B,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,CAAA;QAC1C,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,EAC5B,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,SAAS,EAAE,CAAC,CAAA;IAChD,CAAC,CAAA;IAGD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const Ordem = sequelize.define(\"Ordem\", {\n    OrdemId: {\n      type: DataTypes.INTEGER,\n      primaryKey: true\n    },\n    CodCliente: DataTypes.INTEGER,\n    CodAtivo: DataTypes.INTEGER,\n    QtdeAtivo: DataTypes.INTEGER,\n    ValorDaOrdem: DataTypes.FLOAT(20,2),\n    Tipo: DataTypes.STRING,\n    Horário: DataTypes.DATE,\n  }, { timestamps: false });\n\n  Ordem.associate = (models) => {\n    Ordem.belongsTo(models.Ativo,\n      { foreignKey: 'CodAtivo', as: 'Ativo' })\n    Ordem.belongsTo(models.Cliente,\n      { foreignKey: 'CodCliente', as: 'Cliente' })\n  }\n\n\n  return Ordem;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d62c21113aebe28cefb1a4bae6ccf48eb2cf7a9d","contentHash":"939cbf21f133b661fcb48c098cfddc23d6b2554ef15c858842e81c58fc129ac9"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/transacao.js":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/transacao.js","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":17,"column":2}},"1":{"start":{"line":3,"column":22},"end":{"line":12,"column":29}},"2":{"start":{"line":13,"column":4},"end":{"line":15,"column":6}},"3":{"start":{"line":14,"column":8},"end":{"line":14,"column":89}},"4":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":17},"end":{"line":2,"column":18}},"loc":{"start":{"line":2,"column":43},"end":{"line":17,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":26},"end":{"line":13,"column":27}},"loc":{"start":{"line":13,"column":38},"end":{"line":15,"column":5}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/transacao.js","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/database/models/transacao.js"],"names":[],"mappings":";AAAA,MAAM,CAAC,OAAO,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,EAAE;IACxC,MAAM,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,WAAW,EAAE;QAC9C,WAAW,EAAE;YACX,IAAI,EAAE,SAAS,CAAC,OAAO;YACvB,UAAU,EAAE,IAAI;SACjB;QACD,UAAU,EAAE,SAAS,CAAC,OAAO;QAC7B,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE,EAAC,CAAC,CAAC;QAC5B,IAAI,EAAE,SAAS,CAAC,MAAM;QACtB,OAAO,EAAE,SAAS,CAAC,IAAI;KACxB,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;IAE1B,SAAS,CAAC,SAAS,GAAG,CAAC,MAAM,EAAE,EAAE;QAC/B,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,EAChC,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,SAAS,EAAE,CAAC,CAAA;IAChD,CAAC,CAAA;IAGD,OAAO,SAAS,CAAC;AACnB,CAAC,CAAC","sourcesContent":["module.exports = (sequelize, DataTypes) => {\n  const Transacao = sequelize.define(\"Transacao\", {\n    TransacaoId: {\n      type: DataTypes.INTEGER,\n      primaryKey: true\n    },\n    CodCliente: DataTypes.INTEGER,\n    Valor: DataTypes.FLOAT(20,2),\n    Tipo: DataTypes.STRING,\n    Horário: DataTypes.DATE,\n  }, { timestamps: false });\n\n  Transacao.associate = (models) => {\n    Transacao.belongsTo(models.Cliente,\n      { foreignKey: 'CodCliente', as: 'Cliente' })\n  }\n\n\n  return Transacao;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b258a7153d74bad563ca87fcaa3748765d7e2224","contentHash":"93cda13631fc5a2b1441c87225a81d7b91dcfc670328a64ab5ee743394e8addd"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/getClientsOrders.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/getClientsOrders.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":54}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":57}},"5":{"start":{"line":8,"column":25},"end":{"line":19,"column":1}},"6":{"start":{"line":9,"column":25},"end":{"line":17,"column":6}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":24}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":25},"end":{"line":8,"column":26}},"loc":{"start":{"line":8,"column":54},"end":{"line":19,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":4,"8":1},"f":{"0":1,"1":4},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/getClientsOrders.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/getClientsOrders.ts"],"names":[],"mappings":";;;;;AAAA,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAEvD,0DAAkC;AAElC,MAAM,gBAAgB,GAAG,CAAC,QAAgB,EAAE,aAAqB,EAAqB,EAAE;IACtF,MAAM,YAAY,GAAuB,KAAK,CAAC,OAAO,CAAC;QACrD,OAAO,EAAE;YACP,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,OAAO,CAAC,EAAE;SACrD;QACD,KAAK,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,EAAE,YAAY,EAAE,MAAM,CAAC;QACjE,MAAM,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,aAAa,EAAE;QACrD,UAAU,EAAE,CAAC,YAAY,EAAE,UAAU,EAAE,CAAC,mBAAS,CAAC,EAAE,CAAC,KAAK,EAAE,mBAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,CAAC;QACpH,KAAK,EAAE,CAAC,UAAU,CAAC;KACpB,CACA,CAAC;IACF,OAAO,YAAY,CAAC;AACtB,CAAC,CAAA;AAED,kBAAe,gBAAgB,CAAC","sourcesContent":["const { Ordem, Ativo } = require('../database/models');\nimport IOrder from '../interfaces/IOrder';\nimport sequelize from 'sequelize';\n\nconst getClientsOrders = (clientId: number, compraOuVenda: string): Promise<IOrder[]> => {\n  const clientOrders: Promise<IOrder[]>  = Ordem.findAll({\n    include: [\n      { model: Ativo, as: 'Ativo', attributes: ['Valor'] },\n    ],\n    group: ['Ordem.CodAtivo', 'Ativo.CodAtivo', 'CodCliente', 'Tipo'],\n    having: { CodCliente: clientId, Tipo: compraOuVenda },\n    attributes: ['CodCliente', 'CodAtivo', [sequelize.fn(\"SUM\", sequelize.col('Ordem.QtdeAtivo')), 'QtdeAtivo'], 'Tipo'],\n    order: ['CodAtivo']\n  }\n  );\n  return clientOrders;\n}\n\nexport default getClientsOrders;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4f6fb3b35a354b22ead1ab0ea1c656a8e9025653","contentHash":"ca43bc78f227d2e1f1bdbb66dc1ec469e38d2a253b6a578dc51c982a6c5b3570"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkAsset.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkAsset.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":80}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":47}},"17":{"start":{"line":17,"column":19},"end":{"line":24,"column":2}},"18":{"start":{"line":17,"column":39},"end":{"line":24,"column":2}},"19":{"start":{"line":18,"column":25},"end":{"line":18,"column":33}},"20":{"start":{"line":19,"column":18},"end":{"line":19,"column":78}},"21":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":75}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":19},"end":{"line":17,"column":20}},"loc":{"start":{"line":17,"column":39},"end":{"line":24,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":73},"end":{"line":17,"column":74}},"loc":{"start":{"line":17,"column":86},"end":{"line":24,"column":1}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}}],"line":20}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkAsset.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkAsset.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,iFAAyD;AAEzD,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAGhD,MAAM,UAAU,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC3E,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAC9B,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;IAC3E,IAAG,CAAC,KAAK,EAAE;QACT,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAAA;KACzD;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AAED,kBAAe,UAAU,CAAC","sourcesContent":["import { ITransaction } from '../interfaces'\nimport HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { Request, Response, NextFunction } from \"express\";\nconst { Ativo } = require('../database/models');\n\n\nconst checkAsset = async (req: Request, res: Response, next: NextFunction) => {\n  const { CodAtivo } = req.body;\n  const ativo = await Ativo.findByPk(CodAtivo, { attributes: ['CodAtivo'] });\n  if(!ativo) {\n    throw new HTTPErrorMessage(404, 'Esse ativo não existe')\n  }\n  return next();\n}\n\nexport default checkAsset;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"17687362a80f443a7280e9ed94c2a418eec8165a","contentHash":"a4d1d1cd797aeb07cb6043f9f1b10a9ed34c3671b1d947a105a773ba93329334"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkClient.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkClient.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":80}},"16":{"start":{"line":16,"column":20},"end":{"line":16,"column":49}},"17":{"start":{"line":17,"column":20},"end":{"line":24,"column":2}},"18":{"start":{"line":17,"column":40},"end":{"line":24,"column":2}},"19":{"start":{"line":18,"column":27},"end":{"line":18,"column":35}},"20":{"start":{"line":19,"column":20},"end":{"line":19,"column":86}},"21":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":77}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":20},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":40},"end":{"line":24,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":74},"end":{"line":17,"column":75}},"loc":{"start":{"line":17,"column":87},"end":{"line":24,"column":1}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}}],"line":20}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkClient.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/checkClient.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,iFAAyD;AAEzD,MAAM,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAGlD,MAAM,WAAW,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC5E,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAChC,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE,UAAU,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;IACnF,IAAG,CAAC,OAAO,EAAE;QACX,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,yBAAyB,CAAC,CAAA;KAC3D;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { Request, Response, NextFunction } from \"express\";\nconst { Cliente } = require('../database/models');\n\n\nconst checkClient = async (req: Request, res: Response, next: NextFunction) => {\n  const { CodCliente } = req.body;\n  const cliente = await Cliente.findByPk(CodCliente, { attributes: ['CodCliente'] });\n  if(!cliente) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não existe')\n  }\n  return next();\n}\n\nexport default checkClient;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"effed8629354ea6cfa1c1dc83f0d19ca01b80a81","contentHash":"680ad0d6d6a26efa3a354faf44a50ad50db6619f0a5fd183308b6b2afdcef881"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/ativos.routes.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/ativos.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":71}},"3":{"start":{"line":5,"column":28},"end":{"line":5,"column":71}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":44}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":100}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":120}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":31}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/ativos.routes.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/ativos.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,wEAAgF;AAChF,wEAAwF;AAExF,MAAM,YAAY,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE9B,YAAY,CAAC,GAAG,CAAC,GAAG,EAAE,6BAAS,CAAC,CAAC;AAEjC,YAAY,CAAC,GAAG,CAAC,YAAY,EAAE,oCAAgB,EAAE,6BAAS,CAAC,CAAC;AAE5D,YAAY,CAAC,GAAG,CAAC,sBAAsB,EAAE,sCAAkB,EAAE,qCAAiB,CAAC,CAAC;AAEhF,kBAAe,YAAY,CAAA","sourcesContent":["import { Router } from 'express';\nimport { getAssets, getAssetsByClient } from '../controllers/ativos.controller';\nimport { validateCodAtivo, validateCodCliente } from '../middlewares/validateReqParams';\n\nconst ativosRoutes = Router();\n\nativosRoutes.get('/', getAssets);\n\nativosRoutes.get('/:CodAtivo', validateCodAtivo, getAssets);\n\nativosRoutes.get('/cliente/:CodCliente', validateCodCliente, getAssetsByClient);\n\nexport default ativosRoutes\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9d96f082a286e2f63630ec83fffdd69d5bad1a34","contentHash":"0c5bed130d2e07b3b2c64b610851abec1a789597dda7b293b73a0482178cbde1"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/ativos.controller.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/ativos.controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":55}},"16":{"start":{"line":16,"column":25},"end":{"line":16,"column":62}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":18},"end":{"line":26,"column":2}},"19":{"start":{"line":18,"column":32},"end":{"line":26,"column":2}},"20":{"start":{"line":19,"column":25},"end":{"line":19,"column":35}},"21":{"start":{"line":20,"column":4},"end":{"line":23,"column":5}},"22":{"start":{"line":21,"column":22},"end":{"line":21,"column":76}},"23":{"start":{"line":22,"column":8},"end":{"line":22,"column":43}},"24":{"start":{"line":24,"column":19},"end":{"line":24,"column":55}},"25":{"start":{"line":25,"column":4},"end":{"line":25,"column":40}},"26":{"start":{"line":27,"column":0},"end":{"line":27,"column":30}},"27":{"start":{"line":28,"column":26},"end":{"line":35,"column":2}},"28":{"start":{"line":28,"column":40},"end":{"line":35,"column":2}},"29":{"start":{"line":29,"column":27},"end":{"line":29,"column":37}},"30":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"31":{"start":{"line":31,"column":8},"end":{"line":31,"column":77}},"32":{"start":{"line":33,"column":28},"end":{"line":33,"column":94}},"33":{"start":{"line":34,"column":4},"end":{"line":34,"column":49}},"34":{"start":{"line":36,"column":0},"end":{"line":36,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":18},"end":{"line":18,"column":19}},"loc":{"start":{"line":18,"column":32},"end":{"line":26,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":66},"end":{"line":18,"column":67}},"loc":{"start":{"line":18,"column":79},"end":{"line":26,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":26},"end":{"line":28,"column":27}},"loc":{"start":{"line":28,"column":40},"end":{"line":35,"column":2}},"line":28},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":74},"end":{"line":28,"column":75}},"loc":{"start":{"line":28,"column":87},"end":{"line":35,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":23,"column":5}},{"start":{"line":20,"column":4},"end":{"line":23,"column":5}}],"line":20},"9":{"loc":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},{"start":{"line":30,"column":4},"end":{"line":32,"column":5}}],"line":30}},"s":{"0":1,"1":6,"2":0,"3":6,"4":3,"5":3,"6":0,"7":3,"8":3,"9":3,"10":9,"11":6,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":3,"20":3,"21":3,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1,"28":3,"29":3,"30":3,"31":0,"32":3,"33":1,"34":1},"f":{"0":6,"1":6,"2":0,"3":6,"4":3,"5":3,"6":9,"7":1,"8":3,"9":3,"10":3,"11":3},"b":{"0":[1,1,1],"1":[6,0],"2":[6,6],"3":[3,6],"4":[6,6],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[2,1],"9":[0,3]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/ativos.controller.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/ativos.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,+DAAkF;AAClF,iFAAyD;AAElD,MAAM,SAAS,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC7D,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAChC,IAAI,QAAQ,EAAE;QACZ,MAAM,KAAK,GAAG,MAAM,IAAA,yBAAQ,EAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC/C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;KACnC;IAAC,MAAM,MAAM,GAAG,MAAM,IAAA,uBAAM,GAAE,CAAC;IAChC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;AACrC,CAAC,CAAA,CAAA;AAPY,QAAA,SAAS,aAOrB;AAEM,MAAM,iBAAiB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACtE,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IACjC,IAAI,CAAC,UAAU,EAAE;QACf,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAC,yBAAyB,CAAC,CAAA;KAC1D;IACD,MAAM,eAAe,GAAG,MAAM,IAAA,mCAAkB,EAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;IACrE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAA;AAC9C,CAAC,CAAA,CAAA;AAPY,QAAA,iBAAiB,qBAO7B","sourcesContent":["import { Request, Response } from \"express\";\nimport { getAll, getAsset, getClientPortfolio } from '../services/ativos.service';\nimport HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\n\nexport const getAssets = async (req: Request, res: Response) => {\n  const { CodAtivo } = req.params;\n  if (CodAtivo) {\n    const asset = await getAsset(Number(CodAtivo));\n    return res.status(200).json(asset)\n  } const assets = await getAll();\n  return res.status(200).json(assets)\n}\n\nexport const getAssetsByClient = async (req: Request, res: Response) => {\n const { CodCliente } = req.params;\n  if (!CodCliente) {\n    throw new HTTPErrorMessage(404,'Esse cliente não existe')\n  } \n  const clientPortfolio = await getClientPortfolio(Number(CodCliente)); \n  return res.status(200).json(clientPortfolio)\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6058474f9de43e87013dbe337b2e946312960e99","contentHash":"801b5f7d2c92b6fd29801b5c5d4f9f2f7068e7bb4123e994f4a661919719e57c"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateReqParams.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateReqParams.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":63}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":27},"end":{"line":23,"column":2}},"18":{"start":{"line":17,"column":47},"end":{"line":23,"column":2}},"19":{"start":{"line":18,"column":27},"end":{"line":18,"column":37}},"20":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"21":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":18}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":48}},"24":{"start":{"line":25,"column":25},"end":{"line":31,"column":2}},"25":{"start":{"line":25,"column":45},"end":{"line":31,"column":2}},"26":{"start":{"line":26,"column":25},"end":{"line":26,"column":35}},"27":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"28":{"start":{"line":28,"column":8},"end":{"line":28,"column":78}},"29":{"start":{"line":30,"column":4},"end":{"line":30,"column":18}},"30":{"start":{"line":32,"column":0},"end":{"line":32,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":27},"end":{"line":17,"column":28}},"loc":{"start":{"line":17,"column":47},"end":{"line":23,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":81},"end":{"line":17,"column":82}},"loc":{"start":{"line":17,"column":94},"end":{"line":23,"column":1}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":25,"column":25},"end":{"line":25,"column":26}},"loc":{"start":{"line":25,"column":45},"end":{"line":31,"column":2}},"line":25},"11":{"name":"(anonymous_11)","decl":{"start":{"line":25,"column":79},"end":{"line":25,"column":80}},"loc":{"start":{"line":25,"column":92},"end":{"line":31,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},{"start":{"line":19,"column":4},"end":{"line":21,"column":5}}],"line":19},"9":{"loc":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},{"start":{"line":27,"column":4},"end":{"line":29,"column":5}}],"line":27}},"s":{"0":1,"1":0,"2":0,"3":18,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":13,"11":18,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":15,"19":15,"20":15,"21":4,"22":11,"23":1,"24":1,"25":3,"26":3,"27":3,"28":1,"29":2,"30":1},"f":{"0":18,"1":0,"2":0,"3":18,"4":0,"5":0,"6":13,"7":1,"8":15,"9":15,"10":3,"11":3},"b":{"0":[1,1,1],"1":[0,0],"2":[18,18],"3":[13,0],"4":[18,18],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[4,11],"9":[1,2]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateReqParams.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateReqParams.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iFAAyD;AAGlD,MAAM,kBAAkB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC1F,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAClC,IAAG,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;QACtB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,0BAA0B,CAAC,CAAA;KAC5D;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AANY,QAAA,kBAAkB,sBAM9B;AAEM,MAAM,gBAAgB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxF,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAChC,IAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;QACpB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,0BAA0B,CAAC,CAAA;KAC5D;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AANY,QAAA,gBAAgB,oBAM5B","sourcesContent":["import HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { Request, Response, NextFunction } from \"express\";\n\nexport const validateCodCliente = async (req: Request, res: Response, next: NextFunction) => {\n  const { CodCliente } = req.params;\n  if(!Number(CodCliente)) {\n    throw new HTTPErrorMessage(404, 'Essa rota está incorreta')\n  }\n  return next();\n}\n\nexport const validateCodAtivo = async (req: Request, res: Response, next: NextFunction) => {\n  const { CodAtivo } = req.params;\n  if(!Number(CodAtivo)) {\n    throw new HTTPErrorMessage(404, 'Essa rota está incorreta')\n  }\n  return next();\n}\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"78f7c685ae2a78857627d486934342135d58d117","contentHash":"5f0ca3695dffbfc452d3b83f3204e39c8d885a4dc7881466f85c9eb12fbf4fa5"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/conta.routes.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/conta.routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":27},"end":{"line":7,"column":69}},"5":{"start":{"line":8,"column":30},"end":{"line":8,"column":92}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":76}},"7":{"start":{"line":10,"column":28},"end":{"line":10,"column":71}},"8":{"start":{"line":11,"column":20},"end":{"line":11,"column":43}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":109}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":123}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":121}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":116}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":126}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/conta.routes.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/conta.routes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,sEAMyC;AACzC,6FAAqE;AACrE,6EAAqD;AAErD,wEAAsE;AAEtE,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE7B,WAAW,CAAC,GAAG,CAAC,cAAc,EAAE,sCAAkB,EAAE,mCAAgB,CAAC,CAAC;AAEtE,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,6BAAmB,EAAE,qBAAW,EAAE,qCAAkB,CAAC,CAAC;AAEpF,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,6BAAmB,EAAE,qBAAW,EAAE,sCAAmB,CAAC,CAAC;AAElF,WAAW,CAAC,GAAG,CAAC,qBAAqB,EAAE,sCAAkB,EAAE,mCAAgB,CAAC,CAAA;AAE5E,WAAW,CAAC,GAAG,CAAC,yBAAyB,EAAE,sCAAkB,EAAE,yCAAsB,CAAC,CAAA;AAEtF,kBAAe,WAAW,CAAA","sourcesContent":["import { Router } from 'express';\nimport {\n  depositIntoAccount,\n  getClientAccount,\n  withdrawFromAccount,\n  getOrdersHistory,\n  getTransactionsHistory\n} from '../controllers/conta.controller';\nimport validateTransaction from '../middlewares/validateTransaction';\nimport checkClient from '../middlewares/checkClient';\nimport validateToken from '../middlewares/validateToken';\nimport { validateCodCliente } from '../middlewares/validateReqParams';\n\nconst contaRoutes = Router();\n\ncontaRoutes.get('/:CodCliente', validateCodCliente, getClientAccount);\n\ncontaRoutes.post('/deposito', validateTransaction, checkClient, depositIntoAccount);\n\ncontaRoutes.post('/saque', validateTransaction, checkClient, withdrawFromAccount);\n\ncontaRoutes.get('/:CodCliente/ordens', validateCodCliente, getOrdersHistory)\n\ncontaRoutes.get('/:CodCliente/transacoes', validateCodCliente, getTransactionsHistory)\n\nexport default contaRoutes\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"df110e49b91cc74c0d5737ff7ed1abc1709dc1d0","contentHash":"72e4a7c9c23b3cf511736c3d279af16b37badd4cf7034f0a00779e79425cab17"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/conta.controller.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/conta.controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":153}},"14":{"start":{"line":13,"column":24},"end":{"line":13,"column":60}},"15":{"start":{"line":14,"column":25},"end":{"line":18,"column":2}},"16":{"start":{"line":14,"column":39},"end":{"line":18,"column":2}},"17":{"start":{"line":15,"column":27},"end":{"line":15,"column":37}},"18":{"start":{"line":16,"column":26},"end":{"line":16,"column":86}},"19":{"start":{"line":17,"column":4},"end":{"line":17,"column":47}},"20":{"start":{"line":19,"column":0},"end":{"line":19,"column":44}},"21":{"start":{"line":20,"column":28},"end":{"line":24,"column":2}},"22":{"start":{"line":20,"column":42},"end":{"line":24,"column":2}},"23":{"start":{"line":21,"column":28},"end":{"line":21,"column":36}},"24":{"start":{"line":22,"column":21},"end":{"line":22,"column":80}},"25":{"start":{"line":23,"column":4},"end":{"line":23,"column":42}},"26":{"start":{"line":25,"column":0},"end":{"line":25,"column":50}},"27":{"start":{"line":26,"column":27},"end":{"line":30,"column":2}},"28":{"start":{"line":26,"column":41},"end":{"line":30,"column":2}},"29":{"start":{"line":27,"column":28},"end":{"line":27,"column":36}},"30":{"start":{"line":28,"column":21},"end":{"line":28,"column":79}},"31":{"start":{"line":29,"column":4},"end":{"line":29,"column":42}},"32":{"start":{"line":31,"column":0},"end":{"line":31,"column":48}},"33":{"start":{"line":32,"column":25},"end":{"line":36,"column":2}},"34":{"start":{"line":32,"column":39},"end":{"line":36,"column":2}},"35":{"start":{"line":33,"column":27},"end":{"line":33,"column":37}},"36":{"start":{"line":34,"column":21},"end":{"line":34,"column":77}},"37":{"start":{"line":35,"column":4},"end":{"line":35,"column":42}},"38":{"start":{"line":37,"column":0},"end":{"line":37,"column":44}},"39":{"start":{"line":38,"column":31},"end":{"line":42,"column":2}},"40":{"start":{"line":38,"column":45},"end":{"line":42,"column":2}},"41":{"start":{"line":39,"column":27},"end":{"line":39,"column":37}},"42":{"start":{"line":40,"column":21},"end":{"line":40,"column":83}},"43":{"start":{"line":41,"column":4},"end":{"line":41,"column":42}},"44":{"start":{"line":43,"column":0},"end":{"line":43,"column":56}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":14,"column":25},"end":{"line":14,"column":26}},"loc":{"start":{"line":14,"column":39},"end":{"line":18,"column":2}},"line":14},"8":{"name":"(anonymous_8)","decl":{"start":{"line":14,"column":73},"end":{"line":14,"column":74}},"loc":{"start":{"line":14,"column":86},"end":{"line":18,"column":1}},"line":14},"9":{"name":"(anonymous_9)","decl":{"start":{"line":20,"column":28},"end":{"line":20,"column":29}},"loc":{"start":{"line":20,"column":42},"end":{"line":24,"column":2}},"line":20},"10":{"name":"(anonymous_10)","decl":{"start":{"line":20,"column":76},"end":{"line":20,"column":77}},"loc":{"start":{"line":20,"column":89},"end":{"line":24,"column":1}},"line":20},"11":{"name":"(anonymous_11)","decl":{"start":{"line":26,"column":27},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":41},"end":{"line":30,"column":2}},"line":26},"12":{"name":"(anonymous_12)","decl":{"start":{"line":26,"column":75},"end":{"line":26,"column":76}},"loc":{"start":{"line":26,"column":88},"end":{"line":30,"column":1}},"line":26},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":25},"end":{"line":32,"column":26}},"loc":{"start":{"line":32,"column":39},"end":{"line":36,"column":2}},"line":32},"14":{"name":"(anonymous_14)","decl":{"start":{"line":32,"column":73},"end":{"line":32,"column":74}},"loc":{"start":{"line":32,"column":86},"end":{"line":36,"column":1}},"line":32},"15":{"name":"(anonymous_15)","decl":{"start":{"line":38,"column":31},"end":{"line":38,"column":32}},"loc":{"start":{"line":38,"column":45},"end":{"line":42,"column":2}},"line":38},"16":{"name":"(anonymous_16)","decl":{"start":{"line":38,"column":79},"end":{"line":38,"column":80}},"loc":{"start":{"line":38,"column":92},"end":{"line":42,"column":1}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":8,"2":0,"3":8,"4":3,"5":3,"6":0,"7":5,"8":5,"9":5,"10":11,"11":8,"12":1,"13":1,"14":1,"15":1,"16":2,"17":2,"18":2,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0,"32":1,"33":1,"34":3,"35":3,"36":3,"37":1,"38":1,"39":1,"40":3,"41":3,"42":3,"43":1,"44":1},"f":{"0":8,"1":8,"2":0,"3":8,"4":3,"5":5,"6":11,"7":2,"8":2,"9":0,"10":0,"11":0,"12":0,"13":3,"14":3,"15":3,"16":3},"b":{"0":[1,1,1],"1":[8,0],"2":[8,8],"3":[3,8],"4":[8,8]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/conta.controller.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/conta.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;AAEA,6DAAuH;AAEhH,MAAM,gBAAgB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACpE,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAClC,MAAM,aAAa,GAAY,MAAM,IAAA,6BAAa,EAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;IACvE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC7C,CAAC,CAAA,CAAA;AAJY,QAAA,gBAAgB,oBAI5B;AAEM,MAAM,mBAAmB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACvE,MAAM,eAAe,GAAiB,GAAG,CAAC,IAAI,CAAC;IAC/C,MAAM,QAAQ,GAAU,MAAM,IAAA,+BAAe,EAAC,eAAe,CAAC,CAAC;IAC/D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACxC,CAAC,CAAA,CAAA;AAJY,QAAA,mBAAmB,uBAI/B;AAEM,MAAM,kBAAkB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACtE,MAAM,eAAe,GAAiB,GAAG,CAAC,IAAI,CAAC;IAC/C,MAAM,QAAQ,GAAW,MAAM,IAAA,8BAAc,EAAC,eAAe,CAAC,CAAC;IAC/D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACxC,CAAC,CAAA,CAAA;AAJY,QAAA,kBAAkB,sBAI9B;AAEM,MAAM,gBAAgB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACpE,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAClC,MAAM,QAAQ,GAAa,MAAM,IAAA,yBAAS,EAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;IAC/D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACxC,CAAC,CAAA,CAAA;AAJY,QAAA,gBAAgB,oBAI5B;AAEM,MAAM,sBAAsB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1E,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;IAClC,MAAM,QAAQ,GAAmB,MAAM,IAAA,+BAAe,EAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3E,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACxC,CAAC,CAAA,CAAA;AAJY,QAAA,sBAAsB,0BAIlC","sourcesContent":["import { Request, Response } from \"express\";\nimport {IClient, IOrder, ITransaction} from '../interfaces'\nimport { getClientInfo, withdrawRequest, depositRequest, getOrders, getTransactions } from '../services/conta.service';\n\nexport const getClientAccount = async (req: Request, res: Response) => {\n  const { CodCliente } = req.params;\n  const clientAccount: IClient = await getClientInfo(Number(CodCliente));\n  return res.status(200).json(clientAccount);\n}\n\nexport const withdrawFromAccount = async (req: Request, res: Response) => {\n  const transactionInfo: ITransaction = req.body;\n  const response:string = await withdrawRequest(transactionInfo);\n  return res.status(200).json(response);\n}\n\nexport const depositIntoAccount = async (req: Request, res: Response) => {\n  const transactionInfo: ITransaction = req.body;\n  const response: string = await depositRequest(transactionInfo);\n  return res.status(200).json(response);\n}\n\nexport const getOrdersHistory = async (req: Request, res: Response) => {\n  const { CodCliente } = req.params;\n  const response: IOrder[] = await getOrders(Number(CodCliente));\n  return res.status(200).json(response);\n}\n\nexport const getTransactionsHistory = async (req: Request, res: Response) => {\n  const { CodCliente } = req.params;\n  const response: ITransaction[] = await getTransactions(Number(CodCliente));\n  return res.status(200).json(response);\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"61678697cadbac951c51b9a544eb1aae4905e0c9","contentHash":"5a958c447790b76f7d9ddfaafcb33dc2524d64c1af2f398eabeec9e0fb833507"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/conta.service.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/conta.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":128}},"16":{"start":{"line":16,"column":27},"end":{"line":16,"column":80}},"17":{"start":{"line":17,"column":38},"end":{"line":17,"column":67}},"18":{"start":{"line":18,"column":22},"end":{"line":24,"column":2}},"19":{"start":{"line":18,"column":36},"end":{"line":24,"column":2}},"20":{"start":{"line":19,"column":23},"end":{"line":19,"column":95}},"21":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":77}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":22}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":38}},"25":{"start":{"line":26,"column":24},"end":{"line":38,"column":2}},"26":{"start":{"line":26,"column":45},"end":{"line":38,"column":2}},"27":{"start":{"line":27,"column":34},"end":{"line":27,"column":49}},"28":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"29":{"start":{"line":29,"column":8},"end":{"line":29,"column":108}},"30":{"start":{"line":31,"column":22},"end":{"line":31,"column":83}},"31":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"32":{"start":{"line":33,"column":8},"end":{"line":33,"column":94}},"33":{"start":{"line":35,"column":4},"end":{"line":35,"column":67}},"34":{"start":{"line":36,"column":4},"end":{"line":36,"column":59}},"35":{"start":{"line":37,"column":4},"end":{"line":37,"column":51}},"36":{"start":{"line":39,"column":0},"end":{"line":39,"column":42}},"37":{"start":{"line":40,"column":23},"end":{"line":48,"column":1}},"38":{"start":{"line":41,"column":34},"end":{"line":41,"column":49}},"39":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"40":{"start":{"line":43,"column":8},"end":{"line":43,"column":112}},"41":{"start":{"line":45,"column":4},"end":{"line":45,"column":67}},"42":{"start":{"line":46,"column":4},"end":{"line":46,"column":62}},"43":{"start":{"line":47,"column":4},"end":{"line":47,"column":54}},"44":{"start":{"line":49,"column":0},"end":{"line":49,"column":40}},"45":{"start":{"line":50,"column":18},"end":{"line":60,"column":2}},"46":{"start":{"line":50,"column":32},"end":{"line":60,"column":2}},"47":{"start":{"line":51,"column":19},"end":{"line":51,"column":83}},"48":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"49":{"start":{"line":53,"column":8},"end":{"line":53,"column":77}},"50":{"start":{"line":55,"column":19},"end":{"line":55,"column":75}},"51":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"52":{"start":{"line":57,"column":8},"end":{"line":57,"column":93}},"53":{"start":{"line":59,"column":4},"end":{"line":59,"column":18}},"54":{"start":{"line":61,"column":0},"end":{"line":61,"column":30}},"55":{"start":{"line":62,"column":24},"end":{"line":72,"column":2}},"56":{"start":{"line":62,"column":38},"end":{"line":72,"column":2}},"57":{"start":{"line":63,"column":19},"end":{"line":63,"column":83}},"58":{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},"59":{"start":{"line":65,"column":8},"end":{"line":65,"column":77}},"60":{"start":{"line":67,"column":25},"end":{"line":67,"column":85}},"61":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"62":{"start":{"line":69,"column":8},"end":{"line":69,"column":97}},"63":{"start":{"line":71,"column":4},"end":{"line":71,"column":24}},"64":{"start":{"line":73,"column":0},"end":{"line":73,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":36},"end":{"line":24,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":70},"end":{"line":18,"column":71}},"loc":{"start":{"line":18,"column":83},"end":{"line":24,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":26,"column":24},"end":{"line":26,"column":25}},"loc":{"start":{"line":26,"column":45},"end":{"line":38,"column":2}},"line":26},"11":{"name":"(anonymous_11)","decl":{"start":{"line":26,"column":79},"end":{"line":26,"column":80}},"loc":{"start":{"line":26,"column":92},"end":{"line":38,"column":1}},"line":26},"12":{"name":"(anonymous_12)","decl":{"start":{"line":40,"column":23},"end":{"line":40,"column":24}},"loc":{"start":{"line":40,"column":44},"end":{"line":48,"column":1}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":50,"column":18},"end":{"line":50,"column":19}},"loc":{"start":{"line":50,"column":32},"end":{"line":60,"column":2}},"line":50},"14":{"name":"(anonymous_14)","decl":{"start":{"line":50,"column":66},"end":{"line":50,"column":67}},"loc":{"start":{"line":50,"column":79},"end":{"line":60,"column":1}},"line":50},"15":{"name":"(anonymous_15)","decl":{"start":{"line":62,"column":24},"end":{"line":62,"column":25}},"loc":{"start":{"line":62,"column":38},"end":{"line":72,"column":2}},"line":62},"16":{"name":"(anonymous_16)","decl":{"start":{"line":62,"column":72},"end":{"line":62,"column":73}},"loc":{"start":{"line":62,"column":85},"end":{"line":72,"column":1}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}}],"line":20},"9":{"loc":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},{"start":{"line":28,"column":4},"end":{"line":30,"column":5}}],"line":28},"10":{"loc":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},{"start":{"line":32,"column":4},"end":{"line":34,"column":5}}],"line":32},"11":{"loc":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},{"start":{"line":42,"column":4},"end":{"line":44,"column":5}}],"line":42},"12":{"loc":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},{"start":{"line":52,"column":4},"end":{"line":54,"column":5}}],"line":52},"13":{"loc":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},{"start":{"line":56,"column":4},"end":{"line":58,"column":5}}],"line":56},"14":{"loc":{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},{"start":{"line":64,"column":4},"end":{"line":66,"column":5}}],"line":64},"15":{"loc":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},{"start":{"line":68,"column":4},"end":{"line":70,"column":5}}],"line":68}},"s":{"0":1,"1":12,"2":0,"3":8,"4":12,"5":12,"6":5,"7":0,"8":0,"9":0,"10":15,"11":8,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":2,"20":2,"21":2,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":3,"47":3,"48":3,"49":1,"50":2,"51":2,"52":1,"53":1,"54":1,"55":1,"56":3,"57":3,"58":3,"59":1,"60":2,"61":2,"62":1,"63":1,"64":1},"f":{"0":8,"1":12,"2":0,"3":8,"4":12,"5":0,"6":15,"7":1,"8":2,"9":2,"10":0,"11":0,"12":0,"13":3,"14":3,"15":3,"16":3},"b":{"0":[1,1,1],"1":[12,0],"2":[8,8],"3":[3,12],"4":[8,8],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,1],"9":[0,0],"10":[0,0],"11":[0,0],"12":[1,2],"13":[1,1],"14":[1,2],"15":[1,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/conta.service.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/conta.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,iFAAyD;AAGzD,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;AAE5D,MAAM,aAAa,GAAG,CAAO,QAAgB,EAAE,EAAE;IACtD,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5F,IAAI,CAAC,UAAU,EAAE;QACf,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,yBAAyB,CAAC,CAAA;KAC3D;IACD,OAAO,UAAU,CAAC;AACpB,CAAC,CAAA,CAAA;AANY,QAAA,aAAa,iBAMzB;AAEM,MAAM,eAAe,GAAG,CAAO,eAA6B,EAAmB,EAAE;IACtF,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,eAAe,CAAC;IAC9C,IAAI,KAAK,IAAI,CAAC,EAAE;QACd,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,wDAAwD,CAAC,CAAA;KAC1F;IACD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,EAAE,UAAU,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAChF,IAAI,KAAK,GAAG,KAAK,EAAE;QACjB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,mCAAmC,KAAK,EAAE,CAAC,CAAA;KAC5E;IACD,OAAO,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAA;IAC9D,SAAS,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAA;IACtD,OAAO,cAAc,KAAK,oBAAoB,CAAA;AAChD,CAAC,CAAA,CAAA;AAZY,QAAA,eAAe,mBAY3B;AAEM,MAAM,cAAc,GAAG,CAAC,eAA6B,EAAU,EAAE;IACtE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,eAAe,CAAC;IAC9C,IAAI,KAAK,IAAI,CAAC,EAAE;QACd,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,4DAA4D,CAAC,CAAA;KAC9F;IACD,OAAO,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,CAAA;IAC9D,SAAS,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAA;IACzD,OAAO,iBAAiB,KAAK,oBAAoB,CAAA;AACnD,CAAC,CAAA;AARY,QAAA,cAAc,kBAQ1B;AAGM,MAAM,SAAS,GAAG,CAAO,QAAgB,EAAE,EAAE;IAClD,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;IAC/E,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,yBAAyB,CAAC,CAAA;KAC3D;IACD,MAAM,MAAM,GAAa,MAAM,KAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAA;IACjF,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;QACd,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,yCAAyC,CAAC,CAAA;KAC3E;IACD,OAAO,MAAM,CAAC;AAChB,CAAC,CAAA,CAAA;AAVY,QAAA,SAAS,aAUrB;AAEM,MAAM,eAAe,GAAG,CAAO,QAAgB,EAAE,EAAE;IACxD,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,CAAA;IAC/E,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,yBAAyB,CAAC,CAAA;KAC3D;IACD,MAAM,YAAY,GAAmB,MAAM,SAAS,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAA;IACjG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;QACpB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,6CAA6C,CAAC,CAAA;KAC/E;IACD,OAAO,YAAY,CAAC;AACtB,CAAC,CAAA,CAAA;AAVY,QAAA,eAAe,mBAU3B","sourcesContent":["import HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport getClientsOrder from '../utils/getClientsOrders';\nimport { IOrder, ITransaction } from '../interfaces'\nconst { Cliente, Ordem, Transacao } = require('../database/models')\n\nexport const getClientInfo = async (clientId: number) => {\n  const clientInfo = await Cliente.findByPk(clientId, { attributes: { exclude: ['Senha'] } });\n  if (!clientInfo) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não existe')\n  }\n  return clientInfo;\n}\n\nexport const withdrawRequest = async (transactionInfo: ITransaction): Promise<string> => {\n  const { CodCliente, Valor } = transactionInfo;\n  if (Valor <= 0) {\n    throw new HTTPErrorMessage(400, `Não é possível sacar um valor negativo ou igual a zero`)\n  }\n  const { Saldo } = await Cliente.findByPk(CodCliente, { attributes: ['Saldo'] });\n  if (Valor > Saldo) {\n    throw new HTTPErrorMessage(400, `Saldo insuficiente para sacar R$${Valor}`)\n  }\n  Cliente.decrement({ Saldo: Valor }, { where: { CodCliente } })\n  Transacao.create({ CodCliente, Valor, Tipo: 'Saque' })\n  return `Saque de R$${Valor} feito com sucesso`\n}\n\nexport const depositRequest = (transactionInfo: ITransaction): string => {\n  const { CodCliente, Valor } = transactionInfo;\n  if (Valor <= 0) {\n    throw new HTTPErrorMessage(400, `Não é possível depositar um valor negativo ou igual a zero`)\n  }\n  Cliente.increment({ Saldo: Valor }, { where: { CodCliente } })\n  Transacao.create({ CodCliente, Valor, Tipo: 'Depósito' })\n  return `Depósito de R$${Valor} feito com sucesso`\n}\n\n\nexport const getOrders = async (clientId: number) => {\n  const client = await Cliente.findByPk(clientId, { attributes: ['CodCliente'] })\n  if (!client) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não existe')\n  }\n  const orders: IOrder[] = await Ordem.findAll({ where: { CodCliente: clientId } })\n  if (!orders[0]) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não realizou nenhuma ordem')\n  }\n  return orders;\n}\n\nexport const getTransactions = async (clientId: number) => {\n  const client = await Cliente.findByPk(clientId, { attributes: ['CodCliente'] })\n  if (!client) {\n    throw new HTTPErrorMessage(404, 'Esse cliente não existe')\n  }\n  const transactions: ITransaction[] = await Transacao.findAll({ where: { CodCliente: clientId } })\n  if (!transactions[0]) {\n    throw new HTTPErrorMessage(404, \"Esse cliente não realizou nenhuma transação\")\n  }\n  return transactions;\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d017affb05bf0e0225aacad363b3757c86816e02","contentHash":"d43ecf72f9e39e301862c8b1a4384479d3098b519df53bbd01ddcb896814435a"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateTransaction.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateTransaction.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":80}},"16":{"start":{"line":16,"column":28},"end":{"line":25,"column":2}},"17":{"start":{"line":16,"column":48},"end":{"line":25,"column":2}},"18":{"start":{"line":17,"column":34},"end":{"line":17,"column":42}},"19":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":86}},"21":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"22":{"start":{"line":22,"column":8},"end":{"line":22,"column":81}},"23":{"start":{"line":24,"column":4},"end":{"line":24,"column":18}},"24":{"start":{"line":26,"column":0},"end":{"line":26,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":28},"end":{"line":16,"column":29}},"loc":{"start":{"line":16,"column":48},"end":{"line":25,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":82},"end":{"line":16,"column":83}},"loc":{"start":{"line":16,"column":95},"end":{"line":25,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"9":{"loc":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},{"start":{"line":21,"column":4},"end":{"line":23,"column":5}}],"line":21},"10":{"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":29}},"type":"binary-expr","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":14}},{"start":{"line":21,"column":18},"end":{"line":21,"column":29}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateTransaction.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateTransaction.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,iFAAyD;AAIzD,MAAM,mBAAmB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACpF,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,GAAiB,GAAG,CAAC,IAAI,CAAC;IACrD,IAAI,CAAC,UAAU,EAAE;QACf,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,kCAAkC,CAAC,CAAA;KACpE;IAAC,IAAI,CAAC,KAAK,IAAI,KAAK,KAAK,CAAC,EAAE;QAC3B,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,6BAA6B,CAAC,CAAA;KAC/D;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AAED,kBAAe,mBAAmB,CAAC","sourcesContent":["import { ITransaction } from '../interfaces'\nimport HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { Request, Response, NextFunction } from \"express\";\n\n\nconst validateTransaction = async (req: Request, res: Response, next: NextFunction) => {\n  const { CodCliente, Valor }: ITransaction = req.body;\n  if (!CodCliente) {\n    throw new HTTPErrorMessage(400, 'O campo CodCliente é obrigatório')\n  } if (!Valor && Valor !== 0) {\n    throw new HTTPErrorMessage(400, 'O campo Valor é obrigatório')\n  }\n  return next();\n}\n\nexport default validateTransaction;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0cd042a8a64ddb73d3084dc57ce61861d71116cf","contentHash":"017a4763a94814fed54be5f7e8535aca5576d3008f67e84de6acbca8620fdfac"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/login.routes.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/login.routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":82}},"5":{"start":{"line":8,"column":27},"end":{"line":8,"column":86}},"6":{"start":{"line":9,"column":20},"end":{"line":9,"column":43}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":76}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/login.routes.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/login.routes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,mFAA2D;AAC3D,uFAA6D;AAE7D,MAAM,WAAW,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE7B,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,wBAAc,EAAE,0BAAc,CAAC,CAAC;AAEtD,kBAAe,WAAW,CAAA","sourcesContent":["import { Router } from 'express';\nimport validateClient from '../middlewares/validateClient';\nimport loginToAccount from '../controllers/login.controller';\n\nconst loginRoutes = Router();\n\nloginRoutes.post('/', validateClient, loginToAccount);\n\nexport default loginRoutes\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4fb43f365fcbf1926c7c2ca66cff2eb603d5ad75","contentHash":"71d7ff137e7aa3a51d32fc73d2f0d3163d69366635f5c6b4ac59d70bac8991b4"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateClient.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateClient.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":80}},"16":{"start":{"line":16,"column":23},"end":{"line":25,"column":2}},"17":{"start":{"line":16,"column":43},"end":{"line":25,"column":2}},"18":{"start":{"line":17,"column":29},"end":{"line":17,"column":37}},"19":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"20":{"start":{"line":19,"column":8},"end":{"line":19,"column":81}},"21":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"22":{"start":{"line":22,"column":8},"end":{"line":22,"column":81}},"23":{"start":{"line":24,"column":4},"end":{"line":24,"column":18}},"24":{"start":{"line":26,"column":0},"end":{"line":26,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":43},"end":{"line":25,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":77},"end":{"line":16,"column":78}},"loc":{"start":{"line":16,"column":90},"end":{"line":25,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"9":{"loc":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},{"start":{"line":21,"column":4},"end":{"line":23,"column":5}}],"line":21}},"s":{"0":1,"1":0,"2":0,"3":6,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":4,"11":6,"12":1,"13":1,"14":1,"15":1,"16":1,"17":6,"18":6,"19":6,"20":1,"21":5,"22":1,"23":4,"24":1},"f":{"0":6,"1":0,"2":0,"3":6,"4":0,"5":0,"6":4,"7":1,"8":6,"9":6},"b":{"0":[1,1,1],"1":[0,0],"2":[6,6],"3":[4,0],"4":[6,6],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,5],"9":[1,4]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateClient.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/validateClient.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,iFAAyD;AAGzD,MAAM,cAAc,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC/E,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAClC,IAAG,CAAC,KAAK,EAAE;QACT,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,6BAA6B,CAAC,CAAA;KAC/D;IAAC,IAAG,CAAC,KAAK,EAAE;QACX,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,6BAA6B,CAAC,CAAA;KAC/D;IACD,OAAO,IAAI,EAAE,CAAC;AAChB,CAAC,CAAA,CAAA;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { Request, Response, NextFunction } from \"express\";\n\nconst validateClient = async (req: Request, res: Response, next: NextFunction) => {\n  const { Email, Senha } = req.body;\n  if(!Email) {\n    throw new HTTPErrorMessage(400, 'O campo Email é obrigatório')\n  } if(!Senha) {\n    throw new HTTPErrorMessage(400, 'O campo Senha é obrigatório')\n  }\n  return next();\n}\n\nexport default validateClient;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ff7f16155de617c98c9310bf5cdfec2f1477422","contentHash":"5da80e97b5033970f51c69f4941b161a738962ac3ed3cc6d9c0c4f15a3b52922"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/login.controller.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/login.controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":24},"end":{"line":15,"column":77}},"16":{"start":{"line":16,"column":23},"end":{"line":19,"column":2}},"17":{"start":{"line":16,"column":37},"end":{"line":19,"column":2}},"18":{"start":{"line":17,"column":18},"end":{"line":17,"column":62}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":43}},"20":{"start":{"line":20,"column":0},"end":{"line":20,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":37},"end":{"line":19,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":71},"end":{"line":16,"column":72}},"loc":{"start":{"line":16,"column":84},"end":{"line":19,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/login.controller.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/login.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,8EAAoD;AAEpD,MAAM,cAAc,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC3D,MAAM,KAAK,GAAW,MAAM,IAAA,uBAAW,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AACzC,CAAC,CAAA,CAAA;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import { Request, Response } from \"express\";\nimport clientLogin from \"../services/login.service\";\n\nconst loginToAccount = async (req: Request, res: Response) => {\n  const token: string = await clientLogin(req.body);\n  return res.status(200).json({ token });\n}\n\nexport default loginToAccount;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0d6395bc98372cbc5d62c4aa66dad7fc969e9eb5","contentHash":"b80b61acebee352d6826d2253d6f69829503e8d4a8145f3e83276acaae58b199"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/login.service.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/login.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":80}},"16":{"start":{"line":16,"column":14},"end":{"line":16,"column":37}},"17":{"start":{"line":17,"column":20},"end":{"line":17,"column":49}},"18":{"start":{"line":18,"column":24},"end":{"line":18,"column":65}},"19":{"start":{"line":19,"column":20},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":39},"end":{"line":30,"column":2}},"21":{"start":{"line":20,"column":19},"end":{"line":20,"column":83}},"22":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"23":{"start":{"line":22,"column":8},"end":{"line":22,"column":69}},"24":{"start":{"line":24,"column":28},"end":{"line":24,"column":98}},"25":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"26":{"start":{"line":26,"column":8},"end":{"line":26,"column":69}},"27":{"start":{"line":28,"column":18},"end":{"line":28,"column":55}},"28":{"start":{"line":29,"column":4},"end":{"line":29,"column":17}},"29":{"start":{"line":31,"column":0},"end":{"line":31,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":20},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":39},"end":{"line":30,"column":2}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":73},"end":{"line":19,"column":74}},"loc":{"start":{"line":19,"column":86},"end":{"line":30,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},{"start":{"line":21,"column":4},"end":{"line":23,"column":5}}],"line":21},"9":{"loc":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},{"start":{"line":25,"column":4},"end":{"line":27,"column":5}}],"line":25}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,1],"7":[2,2],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/login.service.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/login.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,iFAAyD;AACzD,sCAA2C;AAC3C,MAAM,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAClD,kEAAmC;AAGnC,MAAM,WAAW,GAAG,CAAO,aAAsB,EAAmB,EAAE;IACpE,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,aAAa,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;IAC/E,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAA;KACnD;IACD,MAAM,eAAe,GAAG,uBAAM,CAAC,WAAW,CAAC,aAAa,CAAC,KAAe,EAAE,MAAM,CAAC,KAAK,CAAC,CAAA;IACvF,IAAG,CAAC,eAAe,EAAE;QACnB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAA;KACnD;IACD,MAAM,KAAK,GAAG,IAAA,iBAAW,EAAC,aAAa,CAAC,CAAA;IACxC,OAAO,KAAe,CAAC;AACzB,CAAC,CAAA,CAAA;AAED,kBAAe,WAAW,CAAC","sourcesContent":["import HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { createToken } from \"../utils/JWT\";\nconst { Cliente } = require('../database/models');\nimport bcrypt from 'bcrypt-nodejs';\nimport { IClient } from \"../interfaces\";\n\nconst clientLogin = async (clientRequest: IClient): Promise<string> => {\n  const client = await Cliente.findOne({ where: { Email: clientRequest.Email } })\n  if (!client) {\n    throw new HTTPErrorMessage(400, 'Dados inválidos')\n  } \n  const passwordIsValid = bcrypt.compareSync(clientRequest.Senha as string, client.Senha)\n  if(!passwordIsValid) {\n    throw new HTTPErrorMessage(400, 'Dados inválidos')\n  }\n  const token = createToken(clientRequest)\n  return token as string;\n}\n\nexport default clientLogin;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d64ab37b4b35df72675e7facd7afd3d46426a110","contentHash":"a4a13b3de7d093d81e370d333be25dbe405c4ceb91b9a2a16387049d0b127752"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/JWT.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/JWT.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":23},"end":{"line":7,"column":46}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":51}},"6":{"start":{"line":9,"column":27},"end":{"line":9,"column":73}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}},"8":{"start":{"line":11,"column":18},"end":{"line":14,"column":1}},"9":{"start":{"line":15,"column":15},"end":{"line":15,"column":50}},"10":{"start":{"line":16,"column":20},"end":{"line":22,"column":1}},"11":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":96}},"13":{"start":{"line":20,"column":18},"end":{"line":20,"column":72}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"15":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}},"16":{"start":{"line":24,"column":20},"end":{"line":32,"column":1}},"17":{"start":{"line":25,"column":4},"end":{"line":31,"column":5}},"18":{"start":{"line":26,"column":29},"end":{"line":26,"column":70}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":28}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":68}},"21":{"start":{"line":33,"column":0},"end":{"line":33,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":20},"end":{"line":16,"column":21}},"loc":{"start":{"line":16,"column":35},"end":{"line":22,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":20},"end":{"line":24,"column":21}},"loc":{"start":{"line":24,"column":31},"end":{"line":32,"column":1}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":15,"column":15},"end":{"line":15,"column":50}},"type":"binary-expr","locations":[{"start":{"line":15,"column":15},"end":{"line":15,"column":37}},{"start":{"line":15,"column":41},"end":{"line":15,"column":50}}],"line":15},"4":{"loc":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},{"start":{"line":17,"column":4},"end":{"line":19,"column":5}}],"line":17}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":1},"f":{"0":2,"1":1,"2":1},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2],"3":[1,0],"4":[0,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/JWT.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/utils/JWT.ts"],"names":[],"mappings":";;;;;;AAAA,+CAAqE;AACrE,oDAA4B;AAC5B,0EAAkD;AAElD,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAAM,SAAS,GAAgB;IAC7B,SAAS,EAAE,KAAK;IAChB,SAAS,EAAE,OAAO;CACnB,CAAC;AAEF,MAAM,MAAM,GAAuB,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,SAAS,CAAC;AAChE,MAAM,WAAW,GAAG,CAAC,EAAE,KAAK,EAAsB,EAA6B,EAAE;IACtF,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,4CAA4C,CAAC,CAAC;KAC/E;IACD,MAAM,KAAK,GAAG,IAAA,mBAAI,EAAC,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;IACjD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AANW,QAAA,WAAW,eAMtB;AAEK,MAAM,WAAW,GAAG,CAAC,KAAa,EAAc,EAAE;IACvD,IAAI;QACF,MAAM,YAAY,GAAG,IAAA,qBAAM,EAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QAC3C,OAAO,YAA0B,CAAC;KACnC;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAC;KACnD;AACH,CAAC,CAAC;AAPW,QAAA,WAAW,eAOtB","sourcesContent":["import { JwtPayload, sign, SignOptions, verify } from 'jsonwebtoken';\nimport dotenv from 'dotenv';\nimport HTTPErrorMessage from './HTTPErrorMessage';\n\ndotenv.config();\n\nconst jwtConfig: SignOptions = {\n  expiresIn: '15m',\n  algorithm: 'HS256',\n};\n\nconst secret: string | undefined = process.env.JWT_SECRET || 'segredo';\nexport const createToken = ({ Email }: Omit<any, 'Senha'>): string | HTTPErrorMessage => {\n  if (!secret) {\n    throw new HTTPErrorMessage(500, 'Variável de ambiente JWT_SECRET indefinida');\n  }\n  const token = sign({ Email }, secret, jwtConfig);\n  return token;\n};\n\nexport const validateJWT = (token: string): JwtPayload => {\n  try {\n    const decodedToken = verify(token, secret);\n    return decodedToken as JwtPayload;\n  } catch (e) {\n    throw new HTTPErrorMessage(401, 'Token inválido');\n  }\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"33179970d2f41c9e1cd551e92f3d881860086686","contentHash":"477280f0797753fcc770ea4ea706906568120cf90f9f91e4147b8c7a8c9e698c"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/cadastro.routes.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/cadastro.routes.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":36}},"4":{"start":{"line":7,"column":30},"end":{"line":7,"column":92}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":82}},"6":{"start":{"line":9,"column":23},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":82}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/cadastro.routes.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/routes/cadastro.routes.ts"],"names":[],"mappings":";;;;;AAAA,qCAAiC;AACjC,6FAAkE;AAClE,mFAA2D;AAE3D,MAAM,cAAc,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEhC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,wBAAc,EAAE,6BAAgB,CAAC,CAAC;AAE3D,kBAAe,cAAc,CAAA","sourcesContent":["import { Router } from 'express';\nimport newClientAccount from '../controllers/cadastro.controller';\nimport validateClient from '../middlewares/validateClient';\n\nconst cadastroRoutes = Router();\n\ncadastroRoutes.post('/', validateClient, newClientAccount);\n\nexport default cadastroRoutes\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bfd1503a2dadbe5e7e77ec4c60e579c7866a008a","contentHash":"f3b68e4e71e574511bf5f81604bdbc0ad2c9ded325e626662db718710ae3ea2b"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/cadastro.controller.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/cadastro.controller.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":27},"end":{"line":15,"column":83}},"16":{"start":{"line":16,"column":25},"end":{"line":19,"column":2}},"17":{"start":{"line":16,"column":39},"end":{"line":19,"column":2}},"18":{"start":{"line":17,"column":18},"end":{"line":17,"column":65}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":43}},"20":{"start":{"line":20,"column":0},"end":{"line":20,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":25},"end":{"line":16,"column":26}},"loc":{"start":{"line":16,"column":39},"end":{"line":19,"column":2}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":16,"column":73},"end":{"line":16,"column":74}},"loc":{"start":{"line":16,"column":86},"end":{"line":19,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":4,"2":0,"3":4,"4":1,"5":1,"6":0,"7":3,"8":3,"9":3,"10":5,"11":4,"12":1,"13":1,"14":1,"15":1,"16":1,"17":4,"18":4,"19":1,"20":1},"f":{"0":4,"1":4,"2":0,"3":4,"4":1,"5":3,"6":5,"7":1,"8":4,"9":4},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[1,4],"4":[4,4],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/cadastro.controller.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/controllers/cadastro.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,oFAAwD;AAExD,MAAM,gBAAgB,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC7D,MAAM,KAAK,GAAW,MAAM,IAAA,0BAAY,EAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACnD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,CAAC,CAAC;AACvC,CAAC,CAAA,CAAA;AAED,kBAAe,gBAAgB,CAAC","sourcesContent":["import { Request, Response } from \"express\";\nimport createClient from \"../services/cadastro.service\";\n\nconst newClientAccount = async (req: Request, res: Response) => {\n  const token: string = await createClient(req.body);\n  return res.status(200).json({token});\n}\n\nexport default newClientAccount;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dab134b2d43f98ce175462bfaab50d6038414ed7","contentHash":"a6d95233e583785962455cc3abc06d909d02722de5482b329f551d69e7b43416"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/cadastro.service.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/cadastro.service.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":20},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":24},"end":{"line":16,"column":65}},"17":{"start":{"line":17,"column":27},"end":{"line":17,"column":80}},"18":{"start":{"line":18,"column":14},"end":{"line":18,"column":37}},"19":{"start":{"line":19,"column":21},"end":{"line":37,"column":2}},"20":{"start":{"line":19,"column":33},"end":{"line":37,"column":2}},"21":{"start":{"line":20,"column":23},"end":{"line":20,"column":37}},"22":{"start":{"line":21,"column":25},"end":{"line":21,"column":54}},"23":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"24":{"start":{"line":23,"column":8},"end":{"line":23,"column":103}},"25":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"26":{"start":{"line":26,"column":8},"end":{"line":26,"column":68}},"27":{"start":{"line":28,"column":25},"end":{"line":28,"column":82}},"28":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"29":{"start":{"line":30,"column":8},"end":{"line":30,"column":89}},"30":{"start":{"line":32,"column":17},"end":{"line":32,"column":55}},"31":{"start":{"line":33,"column":18},"end":{"line":33,"column":70}},"32":{"start":{"line":34,"column":4},"end":{"line":34,"column":61}},"33":{"start":{"line":35,"column":18},"end":{"line":35,"column":48}},"34":{"start":{"line":36,"column":4},"end":{"line":36,"column":17}},"35":{"start":{"line":38,"column":0},"end":{"line":38,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":21},"end":{"line":19,"column":22}},"loc":{"start":{"line":19,"column":33},"end":{"line":37,"column":2}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":67},"end":{"line":19,"column":68}},"loc":{"start":{"line":19,"column":80},"end":{"line":37,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},{"start":{"line":22,"column":4},"end":{"line":24,"column":5}}],"line":22},"9":{"loc":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},{"start":{"line":25,"column":4},"end":{"line":27,"column":5}}],"line":25},"10":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29}},"s":{"0":1,"1":2,"2":0,"3":4,"4":2,"5":2,"6":1,"7":0,"8":0,"9":0,"10":3,"11":4,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":4,"21":4,"22":4,"23":4,"24":1,"25":3,"26":1,"27":2,"28":2,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1},"f":{"0":4,"1":2,"2":0,"3":4,"4":2,"5":0,"6":3,"7":2,"8":4,"9":4},"b":{"0":[1,1,1],"1":[2,0],"2":[4,4],"3":[1,2],"4":[4,4],"5":[1,1,1],"6":[1,1],"7":[2,2],"8":[1,3],"9":[1,2],"10":[1,1]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/cadastro.service.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/services/cadastro.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,MAAM,EAAE,OAAO,EAAE,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAClD,kEAAmC;AACnC,iFAAyD;AACzD,sCAA2C;AAE3C,MAAM,YAAY,GAAG,CAAO,MAAe,EAAmB,EAAE;IAC9D,MAAM,UAAU,GAAG,cAAc,CAAC;IAClC,MAAM,YAAY,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,KAAe,CAAC,CAAC;IAC7D,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QACnC,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,mDAAmD,CAAC,CAAA;KACrF;IAAC,IAAI,CAAC,YAAY,EAAE;QACnB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAA;KAClD;IACD,MAAM,YAAY,GAAG,MAAM,OAAO,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;IAC9E,IAAI,YAAY,EAAE;QAChB,MAAM,IAAI,0BAAgB,CAAC,GAAG,EAAE,qCAAqC,CAAC,CAAA;KACvE;IACD,MAAM,IAAI,GAAG,uBAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACnC,MAAM,KAAK,GAAG,uBAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAe,EAAE,IAAI,CAAC,CAAC;IAC5D,OAAO,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAA;IACxD,MAAM,KAAK,GAAG,IAAA,iBAAW,EAAC,MAAM,CAAC,CAAA;IACjC,OAAO,KAAe,CAAC;AACzB,CAAC,CAAA,CAAA;AAED,kBAAe,YAAY,CAAA","sourcesContent":["import { IClient } from \"../interfaces\"\nconst { Cliente } = require('../database/models');\nimport bcrypt from 'bcrypt-nodejs';\nimport HTTPErrorMessage from \"../utils/HTTPErrorMessage\";\nimport { createToken } from \"../utils/JWT\";\n\nconst createClient = async (client: IClient): Promise<string> => {\n  const emailRegex = /.+@.+.com$/gm;\n  const emailIsValid = emailRegex.test(client.Email as string);\n  if (String(client.Senha).length < 6) {\n    throw new HTTPErrorMessage(400, 'O campo Senha precisa ter pelo menos 6 caracteres')\n  } if (!emailIsValid) {\n    throw new HTTPErrorMessage(400, 'Email inválido')\n  } \n  const clientExists = await Cliente.findOne({ where: { Email: client.Email } })\n  if (clientExists) {\n    throw new HTTPErrorMessage(409, 'Já existe um cliente com esse Email')\n  }\n  const salt = bcrypt.genSaltSync(5);\n  const Senha = bcrypt.hashSync(client.Senha as string, salt);\n  Cliente.create({ Email: client.Email, Senha, Saldo: 0 })\n  const token = createToken(client)\n  return token as string;\n}\n\nexport default createClient"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"577f265321c6e866a6edcd20e357975030310f4d","contentHash":"b0467235f6567cfc7a8e1e0d9674d02235ef45eb5eab28aec1941599dbd915b8"},"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/errorHandler.ts":{"path":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/errorHandler.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":21},"end":{"line":15,"column":2}},"14":{"start":{"line":12,"column":46},"end":{"line":15,"column":2}},"15":{"start":{"line":13,"column":32},"end":{"line":13,"column":35}},"16":{"start":{"line":14,"column":4},"end":{"line":14,"column":48}},"17":{"start":{"line":16,"column":0},"end":{"line":16,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":12,"column":21},"end":{"line":12,"column":22}},"loc":{"start":{"line":12,"column":46},"end":{"line":15,"column":2}},"line":12},"8":{"name":"(anonymous_8)","decl":{"start":{"line":12,"column":80},"end":{"line":12,"column":81}},"loc":{"start":{"line":12,"column":93},"end":{"line":15,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":28}},"type":"binary-expr","locations":[{"start":{"line":14,"column":15},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":28}}],"line":14}},"s":{"0":1,"1":0,"2":0,"3":18,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":18,"11":18,"12":1,"13":1,"14":18,"15":18,"16":18,"17":1},"f":{"0":18,"1":0,"2":0,"3":18,"4":0,"5":0,"6":18,"7":18,"8":18},"b":{"0":[1,1,1],"1":[0,0],"2":[18,18],"3":[18,0],"4":[18,18],"5":[18,0]},"inputSourceMap":{"version":3,"file":"/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/errorHandler.ts","sources":["/home/bernardo/Trybe/projetos/Processo seletivo XP/src/middlewares/errorHandler.ts"],"names":[],"mappings":";;;;;;;;;;;AAIA,MAAM,YAAY,GAAG,CAAO,GAAS,EAAE,GAAY,EAAE,GAAa,EAAE,IAAiB,EAAE,EAAE;IACvF,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,GAAuB,CAAC;IACpD,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9C,CAAC,CAAA,CAAA;AAED,kBAAe,YAAY,CAAC","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport HTTPErrorMessage from '../utils/HTTPErrorMessage'\n\n\nconst errorHandler = async (err:Error ,req: Request, res: Response, next:NextFunction) => {\n  const { status, message } = err as HTTPErrorMessage;\n  res.status(status || 500).json({ message });\n}\n\nexport default errorHandler;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6557e67fd15311ddaa4da0c0eb3aec50859ff493","contentHash":"068cbd59f7cb3c987cf37264f6d685894ca93bdc945aab82cfdbcdca19f52924"}}